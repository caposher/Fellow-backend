(function(t){function e(e){for(var s,i,o=e[0],c=e[1],l=e[2],d=0,p=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&p.push(n[i][0]),n[i]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);u&&u(e);while(p.length)p.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],s=!0,o=1;o<a.length;o++){var c=a[o];0!==n[c]&&(s=!1)}s&&(r.splice(e--,1),t=i(i.s=a[0]))}return t}var s={},n={app:0},r=[];function i(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=s,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(a,s,function(e){return t[e]}.bind(null,s));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0aab":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPIAAADzCAYAAAC8NEsBAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAAAhdEVYdENyZWF0aW9uIFRpbWUAMjAyMToxMjowNyAxNzowNToyNjF+/cUAAAqQSURBVHhe7d17bFWFHcDxH0I7KC2PUvqWsfKyAqU8KzAyGGqGG+rYhuKDGATCNjNigsleibg/XLK5xccfZsJMJCNx4mNE5LGFgVNYxmuNILSldB2U0kJbHrflcaF091x/LETg9pzeR7m/8/0kJ/f3O+Uv8cu5z94eHSECIKndobcAkhghAwYQMmAAIQMGEDJgACEDBhAyYEC3vo68veaMNLQGpSEQlBOhw7l19mD7Vf0TwO0tJz1Vj5TwbW7omDqkn2SmpeifSIyEh/yvY+dkQ0WzrPl3oxw9c1HPArbMLR4kj4zNljkjMxMSdUJCrg9daVftqpdNVS3hkAG/SEvpKd8dnSWPlmTLd+4apGdjL64hXwv4jdDhzICfzQ2FvHRKflyCjkvIF65cld98fJSAgZuIR9AxD/nzk22y9P0q2Xn0rJ4BcDMrZw+V50NHLMQ0ZOdJrAVvH5TWYLueARCJ8/j5/cfH6NZ1MQv51Z11snxDtW4A3BqW2UeqV5Tp1jUxCXlteaM88c4h3QB45bxE1fzL6bp5F/U7u/bVB4gYiFLL+ctRdRRVyHVnL8l9b36mG4BoOPdsX/rkmG7edDnkYHuHLPmgMvwvCYDYeG7TEVmzr0E397oc8gtba2VzVYtuAGLlZ1tqPL//okshH2hsk1d21ukGIJauvSPSiy6F/MqOOmnjtWIgbry+K9JzyFuPnJbVe07oBiAevF6VPYfsvPEDQPw5V+Uml08mewr5+LlL8lElT3ABieBcldcfbNItMk8hbwpF3H415h+WAnALcQl5y2GuxkAifVjRLKfaOr977Snkv1af1glAoqzbf1KnW3MdsvOL8s5dvKIbgERZd+CUTrfmOuTGVn7TB9AdGl28nkzIwG3O+RXRnfEQMh+OALrD6QtXwh9SioQrMpAEOuvPdchuLu8A4iNmIfMhCaD7tF6K3J/rkAHcvggZMICQAQMIGTCAkAEDCBkwgJABAwgZMICQAQMIGTCAkAEDCBkwgJABA1x/0fms1eXh39uVrIYO7C1lhf2kODtNzyAZ7T0eCB9ev+Qs2W1bXCoziwbodiPzIS8ry5dnphbI6Oy+egYWOF8k+PKOOvmjT76+qLOQzd61Tk/tKW8/ere8/tBIIjZoTE5fWT1vlPz+geF6xt9MhlyU2VsCK2fIIyXZegZWPfv1Qul4caZu/mUy5A0LS3SCX/xpfrFO/mQu5F/M+ipPaPnQ46U5Mmdkpm7+Yy7k+WMH6wS/ebA4Syf/MRVyTnqqlOSm6wa/mVDg3797UyGPy+PZaT+bUtgv/GqFH5kKedqQ/jrBryYVZujkL+YeIwN+RMiAAYQMGEDIgAGEDBhAyIABhAwYQMiAAYQMGEDIgAGEDBhAyIABhAwYQMiAAYQMGEDIgAGEDBhAyIABhAwYQMiAAYQMGEDIgAGEDBhAyIABhAwYQMiAAYQMGEDIgAGEDBhAyIABhAwYQMiAAYQMGEDIgAGEDBhAyIABhAwYYCrk+kBQJ/hV/Tl//j9gKuS9xwM6wY9Otgalqum8bv5iLuSWC1d0g9/s9vE/5OYeI3/8nzM6wW/21BGyGT/dXKMT/OTT2rOycmutbv5jLmTnMdLT71XoBr9Y9pcqnfzJXMiON/c2yNryRt1g3YqNR+Tzk226+ZPJkB1PvHMofBxuvqBnYM2BxjaZtbpcfvfpMT3jXz06QnSOyPkPtr0m+Z5IykxLkdnDBkhRZh+5a3CaDB3QW3+CZFQZeuhUHfrHufb0RdlyuEUCl9r1J7ZtW1wqM4sG6HYj8yEDFnQWstm71oCfEDJgACEDBhAyYAAhAwYQMmAAIQMGEDJgACEDBhAyYAAhAwYQMmAAIQMGEDJgACEDBhAyYAAhAwYQMmAAIQMGEDJgACEDBhAyYAAhAwYQMmAAIQMGEDJgACEDBhAyYAAhAwb46tsYc9JTpTg7TTf/2Hs84JuvH7XK91+rOm1If1k0KVfuGdJPRmf31bP+U36iVXbXBWTV7vrwLZKLr79WdVlZvuxYNl6enpTn64gdpXnpsmRynuz60USZPzZbz8IKsyEfWXGPvP7QSN1wvT8vuFvWPzlGN1hgMuS/LRonRZm9dcPNPFicJa/NHaEbkp25kJ+akCv3Dh+oGyJ5ZmqBfH/MYN2QzMyFvGRKnk5wY/n0Qp2QzEyFnJ7aUyYX9NMNbgzL7KMTkpmpkEty0yWlZw/d4EZeRqpkpaXohmRlKuSyOzN0ghdFXJWTnqmQ+/fupRO8SEs191SJ7/A3CBhAyIABhAwYQMiAAYQMGEDIgAGEDBhAyIABhAwYQMiAAYQMGEDIgAGEDBhAyIABhAwYQMiAAYQMGEDIgAGEDBhAyIABhAwYQMiAAYQMGEDIgAGEDBhAyIABhAwYQMiAAYQMGEDIgAGEDBhAyIABhAwYQMiAAYQMGEDIgAGmQg5catcJXly4fFUnJCtTIe+tD+gEL2paLuiEZGUr5OMBuXK1Qze40dgalFNtl3VDsjJ313p3HVdlL6qbuRpbYO7Jrl/9vVYnuPHzLTU6IZmZC3lzVYu8vKNON0Ty1LsV8o/as7ohmZkL2fHsR9VSHwjqhpvZWNksb+1r0A3JzmTIjoJf75QXttYS9JfUnr4oSz+olG+/tV/PwIIeHSE6RzRrdblsrzmjW/LIz0iV+0Zkyvj8dPnG1wZIaV66/sQ/dvz3rPzz6Dn5rKFVNoUeejTxLHXS2ba4VGYWDdDtRuZDBizoLGSzd60BPyFkwABCBgwgZMAAQgYMIGTAAEIGDCBkwABCBgwgZMAAQgYMIGTAAEIGDCBkwADXIQ/s00snAImWmRa5P9ch56Sn6gQg0Trrz3XIuYQMdJuYhcwVGegebtojZOA2F9OQR2T10QlAIhVnp+l0a65DHpPTV0YMImYg0RaOz9Hp1lyH7Hh4dJZOABIhq2+KPDBqkG635inkbxYN1AlAIiwoydYpMk8hO79Xlye9gMSZ4+Jq7PAUcu9ed8g87l4DCTGxIEPmjMzULTJPITuWTy/k7ZpAAiydnKdT5zyHPCorTZZPK9QNQDw4V+OlU/J165znkB0/CYXsBA0gPrxcjR1dCtm5a+3cxQYQe16vxo4uhez4YVm+POnihWoA3rx4f5FO7nU5ZMeaHxRLSa7/vm8YiJffzhkm94/w/n6NqEJ2bF9SqhOAaDh3p1fMuFM3b6IO2Xm8vOfHE3UD0BX3Dh8of3h4pG7e9egI0TkqdWcvybjX9kjL+ct6BoAbK2cPledDRzRiFrIj2N4hi96rkLXljXoGQCTvPjZavjdmsG5dF9OQr3lu0xF56ZNjugH4Mud9GKvmjZIZQ/vrmejEJWTHhopmeWNXvXwYugXwhdSePcJvqHLeHVnY/yt6NnpxC/kagga+sHBCbijgApmQn6FnYifuIV+zsbJF1h9qkvUHm6SxNahnAducj/06rws/Ni5HvuXyk0xdkbCQr7du/ylZd+Bk+BawZvigPuGPHzqfJXb7McRodUvI12sIBOVE6GgIXaWd2TmC7Vf1p8Dtzbniho+MlP/P6ak99aeJ0+0hA4he1O/sAtD9CBkwgJABAwgZMICQAQMIGTCAkAEDCBkwgJCBpCfyP1p68Fa3wzI1AAAAAElFTkSuQmCC"},"281f":function(t,e,a){t.exports=a.p+"img/loader.516fef1b.svg"},4678:function(t,e,a){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function n(t){var e=r(t);return a(e)}function r(t){if(!a.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}n.keys=function(){return Object.keys(s)},n.resolve=r,t.exports=n,n.id="4678"},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:{"on-board":t.onBoard},style:t.appStyle,attrs:{id:"app"}},[a("router-view")],1)},r=[],i=a("1da1"),o=(a("96cf"),{data:function(){return{onBoard:!1}},created:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$store.dispatch({type:"setUser"});case 3:return e.next=5,t.$store.dispatch({type:"loadUsers"});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log("err",e.t0);case 10:window.fbAsyncInit=function(){window.FB.init({appId:"668161277923698",xfbml:!0,version:"v2.7"}),window.FB.AppEvents.logPageView()},function(t,e,a){var s,n=t.getElementsByTagName(e)[0];t.getElementById(a)||(s=t.createElement(e),s.id=a,s.src="//connect.facebook.net/en_US/sdk.js",n.parentNode.insertBefore(s,n))}(document,"script","facebook-jssdk");case 12:case"end":return e.stop()}}),e,null,[[0,7]])})))()},watch:{"$route.params.boardId":{handler:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.$route.params.boardId,!a){e.next=13;break}return e.prev=2,e.next=5,t.$store.dispatch({type:"loadBoard",boardId:a});case 5:t.onBoard=!0,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](2),console.log("problem with getting board",e.t0);case 11:e.next=22;break;case 13:return e.prev=13,e.next=16,t.$store.dispatch({type:"loadBoard",boardId:""});case 16:t.onBoard=!1,e.next=22;break;case 19:e.prev=19,e.t1=e["catch"](13),console.log("problem with getting board",e.t1);case 22:case"end":return e.stop()}}),e,null,[[2,8],[13,19]])})))()},immediate:!0}},methods:{},computed:{board:function(){var t=this.$store.getters.board;return t},appStyle:function(){if(this.board&&this.board.style)return this.board.style.imgUrl?{backgroundImage:'url("'.concat(this.board.style.imgUrl,'")')}:{backgroundColor:this.board.style.bgColor}}},components:{}}),c=o,l=a("2877"),u=Object(l["a"])(c,n,r,!1,null,null,null),d=u.exports,p=a("9483");Object(p["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var h=a("8c4f"),m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.boards?a("section",{staticClass:"home-page"},[a("app-header",{staticClass:"blue-header"}),a("section",{staticClass:"home"},[t._m(0),a("div",{staticClass:"boards"},[a("div",{staticClass:"workspaces"},[a("div",{staticClass:"main"},[t._m(1),a("ul",{staticClass:"workspaces-boards"},[t._l(t.boards,(function(e){return a("li",{key:e._id,style:t.bgImage(e),on:{click:function(a){return t.setBoard(e._id)}}},[a("span",[t._v(t._s(e.title))])])})),a("div",{staticClass:"add",on:{click:function(e){e.stopPropagation(),t.onAddBoard=!0}}},[a("div",[t._v("Create new board")]),a("div",[t._v(t._s(10-t.boards.length)+" remaining")])])],2),a("add-board",{directives:[{name:"show",rawName:"v-show",value:t.onAddBoard,expression:"onAddBoard"}],attrs:{onAddBoard:t.onAddBoard},on:{close:function(e){t.onAddBoard=!1}}})],1)])])])],1):t._e()},f=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"menu"},[a("nav",[a("div",{staticClass:"top-menu"},[a("button",{staticClass:"action-btn"},[a("span",{staticClass:"icon-wrapper"},[a("span",{staticClass:"icon-sm icon-board"})]),a("span",{staticClass:"text"},[t._v("Boards")])]),a("button",{staticClass:"action-btn"},[a("span",{staticClass:"icon-wrapper"},[a("span",{staticClass:"icon-sm icon-template-board"})]),a("span",{staticClass:"text"},[t._v("Templates")])]),a("button",{staticClass:"action-btn"},[a("span",{staticClass:"icon-wrapper"},[a("span",{staticClass:"icon-sm icon-home"})]),a("span",{staticClass:"text"},[t._v("Home")])])]),a("div",{staticClass:"bottom-menu"},[a("div",{staticClass:"workspaces action-btn"},[a("div",{staticClass:"add"},[a("span",{staticClass:"text"},[t._v("Workspaces")]),a("span",{staticClass:"icon-wrapper"},[a("span",{staticClass:"icon-sm icon-plus"})])])]),a("div",{staticClass:"fellow"},[a("div",{staticClass:"action-btn"},[a("div",[a("span",{staticClass:"F-wrapper"},[a("span",{staticClass:"F"},[t._v("F")]),a("span",[t._v("Fellow Workspaces")])])]),a("span",{staticClass:"arrow icon-wrapper"},[a("span",{staticClass:"fas fa-chevron-down"})])])])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"nav"},[a("span",{staticClass:"header-wrapper"},[a("span",{staticClass:"icon-lg icon-member"}),a("span",{staticClass:"header"},[t._v("Boards")])])])}],v=(a("caad"),a("2532"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",{staticClass:"main-header"},[a("div",{staticClass:"left-container"},[a("router-link",{staticClass:"logo",attrs:{to:"/home"!==t.$route.path?"/home":"","aria-label":"Back to home"}},[a("span",[a("logo")],1),t._v(" Fellow ")]),a("button",{on:{click:t.onAddBoard}},[t._v("Create")])],1),a("div",{staticClass:"container"},[a("div",{staticClass:"input-container"},[a("i",{staticClass:"fas fa-search search-icon"}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchInput,expression:"searchInput"}],attrs:{autocomplete:"off",autocorrect:"off",spellcheck:"false",type:"search",placeholder:"Search..."},domProps:{value:t.searchInput},on:{input:[function(e){e.target.composing||(t.searchInput=e.target.value)},t.checkInput]}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.openSearch,expression:"openSearch"}],staticClass:"search-modal"},[a("div",{staticClass:"search-header"},[t._v("Boards")]),t._l(t.searchedBoards,(function(e){return a("router-link",{key:e._id,staticClass:"search-item",attrs:{to:{name:"board",params:{boardId:e._id}}}},[a("span",{staticClass:"bgc-item",style:t.styleToShow(e)}),a("span",{staticClass:"item-title"},[t._v(t._s(e.title))])])}))],2),a("button",{staticClass:"header-bell",class:t.notify,on:{click:t.toggleNotification}},[a("span",[a("svg",{attrs:{width:"24",height:"32",focusable:"false",viewBox:"0 0 24 24"}},[a("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12 2C11.4477 2 11 2.44772 11 3V3.078C10.2728 3.19668 9.65318 3.44603 9.1328 3.79295C8.39456 4.28511 7.91489 4.93416 7.60557 5.55279C7.29822 6.1675 7.14952 6.77011 7.07611 7.2106C7.039 7.43322 7.02007 7.62092 7.01035 7.75688C7.00549 7.82503 7.0029 7.88067 7.00153 7.92176C7.00085 7.94232 7.00046 7.95929 7.00025 7.9724L7.00005 7.98916L7.00001 7.99533L7 7.99786L7 7.99898C7 7.9995 7 8 8 8H7V11.723L4.14251 16.4855C3.95715 16.7944 3.95229 17.1792 4.1298 17.4927C4.30731 17.8062 4.63973 18 5 18H19C19.3603 18 19.6927 17.8062 19.8702 17.4927C20.0477 17.1792 20.0429 16.7944 19.8575 16.4855L17 11.723V8H16C17 8 17 7.9995 17 7.99898L17 7.99786L17 7.99533L17 7.98916L16.9997 7.9724C16.9995 7.95929 16.9992 7.94232 16.9985 7.92176C16.9971 7.88067 16.9945 7.82503 16.9896 7.75688C16.9799 7.62092 16.961 7.43322 16.9239 7.2106C16.8505 6.77011 16.7018 6.1675 16.3944 5.55279C16.0851 4.93416 15.6054 4.28511 14.8672 3.79295C14.3468 3.44603 13.7272 3.19668 13 3.078V3C13 2.44772 12.5523 2 12 2ZM9.00042 7.98839L9 8.00435V12C9 12.1812 8.95074 12.3591 8.85749 12.5145L6.76619 16H17.2338L15.1425 12.5145C15.0493 12.3591 15 12.1812 15 12V8.00436L14.9996 7.98839C14.999 7.97089 14.9977 7.9406 14.9947 7.89937C14.9888 7.81658 14.9765 7.69178 14.9511 7.5394C14.8995 7.22989 14.7982 6.8325 14.6056 6.44721C14.4149 6.06584 14.1446 5.71489 13.7578 5.45705C13.3773 5.20338 12.825 5 12 5C11.175 5 10.6227 5.20338 10.2422 5.45705C9.85544 5.71489 9.58511 6.06584 9.39443 6.44721C9.20178 6.8325 9.10048 7.22989 9.04889 7.5394C9.0235 7.69178 9.01118 7.81658 9.00527 7.89937C9.00233 7.9406 9.001 7.97089 9.00042 7.98839ZM14 19C14 20.1046 13.1046 21 12 21C10.8954 21 10 20.1046 10 19H14Z",fill:"currentColor"}})])])]),a("notification-popup",{attrs:{showPopup:t.showNotifyPopup,activities:t.$store.getters.getActivities},on:{close:function(e){t.showNotifyPopup=!1}}}),t.user?a("div",{staticClass:"user-section",on:{click:function(e){t.showUserPopup=!t.showUserPopup}}},[a("avatar",{attrs:{username:t.user.fullname,size:32,lighten:200,src:t.user.imgUrl,title:t.user.fullname+" ("+t.user.username+")"}}),a("user-popup",{directives:[{name:"show",rawName:"v-show",value:t.showUserPopup,expression:"showUserPopup"}],attrs:{user:t.user},on:{closePopup:function(e){t.showUserPopup=!1}}})],1):t._e()],1)])}),g=[],b=(a("4de4"),a("d3b7"),a("4a89")),w=a.n(b),C=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},y=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"con"},[a("div",{staticClass:"up"}),a("div",{staticClass:"down"})])])}],k={},x=k,A=(a("f159"),Object(l["a"])(x,C,y,!1,null,null,null)),_=A.exports,j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"card-popup user-popup"},[a("section",{staticClass:"popup-header"},[a("div",{on:{click:function(e){return e.stopPropagation(),t.close.apply(null,arguments)}}},[a("span",{staticClass:"close-popup icon-md icon-close"})]),a("h4",[t._v("Account")]),a("div",{staticClass:"user-short"},[a("div",{staticClass:"user-icon"},[a("avatar",{attrs:{username:t.user.fullname,size:40,lighten:200,src:t.user.imgUrl}})],1),a("div",{staticClass:"text"},[a("div",{staticClass:"name"},[t._v(t._s(t.user.fullname))]),a("span",[t._v(t._s(t.user.username))])])]),a("div",{staticClass:"br"}),t._m(0),a("div",{staticClass:"br"}),t.user.googleUser?a("GoogleLogin",{staticClass:"user-btn",attrs:{params:t.params,logoutButton:!0,onSuccess:t.logout}},[t._v("Logout")]):a("div",{staticClass:"logout",on:{click:function(e){return e.stopPropagation(),t.logout.apply(null,arguments)}}},[a("button",{staticClass:"user-btn"},[t._v("Logout")])])],1)])},L=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",[a("button",{staticClass:"user-btn not-yet"},[t._v("Profile")]),a("button",{staticClass:"user-btn not-yet"},[t._v("Activity")]),a("button",{staticClass:"user-btn not-yet"},[t._v("Cards")])])}],E=a("e571"),T=a.n(E),O={props:{user:{type:Object}},data:function(){return{params:{client_id:"961995621272-60aj5sk5o9vlm2a68pqoqbtd32uo5ka3.apps.googleusercontent.com"}}},created:function(){},methods:{close:function(){this.$emit("closePopup")},logout:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.user){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,t.$store.dispatch({type:"logout"});case 5:t.$router.push("/"),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](2),console.log("cant logout",e.t0);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})))()}},components:{Avatar:w.a,GoogleLogin:T.a}},M=O,D=Object(l["a"])(M,j,L,!1,null,null,null),S=D.exports,B=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{directives:[{name:"show",rawName:"v-show",value:t.showPopup,expression:"showPopup"}],staticClass:"card-popup notification-popup"},[a("header",{staticClass:"popup-header"},[a("h4",[t._v("Notifications")]),a("div",{on:{click:function(e){return t.$emit("close")}}},[a("span",{staticClass:"close-popup icon-md icon-close"})])])])},I=[],N=(a("fb6a"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"activity-item"},[a("avatar",{staticClass:"activity-avatar",attrs:{username:t.activity.byMember.fullname,size:32,lighten:200,src:t.activity.byMember.imgUrl}}),a("span",{staticClass:"activity-by"},[t._v(t._s(t.activity.byMember.fullname)+" ")]),t.inCard?a("span",[t._v(t._s(t.activitiesToShow))]):a("span",[t._v(" "+t._s(t.notificationToShow)+" "),t.showCard?a("span",[t._v(" card "),a("span",{staticClass:"underline",class:{grey:!t.activeLink},on:{click:t.openCard}},[t._v(t._s(t.activity.card.title))])]):t._e(),t.showList?a("span",[t._v(" in list "+t._s(t.activity.listTitle))]):t._e()]),a("span",{staticClass:"activity-time"},[t._v(t._s(t.timeToShow(t.activity.createdAt)))])],1)}),R=[];a("a9e3"),a("99af"),a("7db0"),a("ac1f"),a("5319"),a("25f0"),a("4d63"),a("c607"),a("2c3e");function $(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,e="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=0;s<t;s++)e+=a.charAt(Math.floor(Math.random()*a.length));return e}function U(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t}function P(t){if(t instanceof Date||(t=new Date(t)),isNaN(t.getDate()))return"Invalid date";var e,a=new Date,s=(a.getTime()-t.getTime())/1e3,n=function(t,e,a){var s=["\0","January","February","March","April","May","June","July","August","September","October","November","December"],n=["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],r=["","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],i=["","Sun","Mon","Tue","Wed","Thu","Fri","Sat"];function o(t,e){var a=t+"";e=e||2;while(a.length<e)a="0"+a;return a}var c=a?t.getUTCFullYear():t.getFullYear();e=e.replace(/(^|[^\\])yyyy+/g,"$1"+c),e=e.replace(/(^|[^\\])yy/g,"$1"+c.toString().substr(2,2)),e=e.replace(/(^|[^\\])y/g,"$1"+c);var l=(a?t.getUTCMonth():t.getMonth())+1;e=e.replace(/(^|[^\\])MMMM+/g,"$1"+s[0]),e=e.replace(/(^|[^\\])MMM/g,"$1"+n[0]),e=e.replace(/(^|[^\\])MM/g,"$1"+o(l)),e=e.replace(/(^|[^\\])M/g,"$1"+l);var u=a?t.getUTCDate():t.getDate();e=e.replace(/(^|[^\\])dddd+/g,"$1"+r[0]),e=e.replace(/(^|[^\\])ddd/g,"$1"+i[0]),e=e.replace(/(^|[^\\])dd/g,"$1"+o(u)),e=e.replace(/(^|[^\\])d/g,"$1"+u);var d=a?t.getUTCHours():t.getHours();e=e.replace(/(^|[^\\])HH+/g,"$1"+o(d)),e=e.replace(/(^|[^\\])H/g,"$1"+d);var p=d>12?d-12:0==d?12:d;e=e.replace(/(^|[^\\])hh+/g,"$1"+o(p)),e=e.replace(/(^|[^\\])h/g,"$1"+p);var h=a?t.getUTCMinutes():t.getMinutes();e=e.replace(/(^|[^\\])mm+/g,"$1"+o(h)),e=e.replace(/(^|[^\\])m/g,"$1"+h);var m=a?t.getUTCSeconds():t.getSeconds();e=e.replace(/(^|[^\\])ss+/g,"$1"+o(m)),e=e.replace(/(^|[^\\])s/g,"$1"+m);var f=a?t.getUTCMilliseconds():t.getMilliseconds();e=e.replace(/(^|[^\\])fff+/g,"$1"+o(f,3)),f=Math.round(f/10),e=e.replace(/(^|[^\\])ff/g,"$1"+o(f)),f=Math.round(f/10),e=e.replace(/(^|[^\\])f/g,"$1"+f);var v=d<12?"AM":"PM";e=e.replace(/(^|[^\\])TT+/g,"$1"+v),e=e.replace(/(^|[^\\])T/g,"$1"+v.charAt(0));var g=v.toLowerCase();e=e.replace(/(^|[^\\])tt+/g,"$1"+g),e=e.replace(/(^|[^\\])t/g,"$1"+g.charAt(0));var b=-t.getTimezoneOffset(),w=a||!b?"Z":b>0?"+":"-";if(!a){b=Math.abs(b);var C=Math.floor(b/60),y=b%60;w+=o(C)+":"+o(y)}e=e.replace(/(^|[^\\])K/g,"$1"+w);var k=(a?t.getUTCDay():t.getDay())+1;return e=e.replace(new RegExp(r[0],"g"),r[k]),e=e.replace(new RegExp(i[0],"g"),i[k]),e=e.replace(new RegExp(s[0],"g"),s[l]),e=e.replace(new RegExp(n[0],"g"),n[l]),e=e.replace(/\\(.)/g,"$1"),e};return s<0?t:s<10?"just now":s<60?"a few secs ago":s<3600?parseInt(s/60)+" mins ago":s<=86400?parseInt(s/3600)+" hrs ago":s<=172800?"Yesderday at "+n(t,"h:mmtt"):s>172800?(e=s<=604800?n(t,"dddd")+" at "+n(t,"h:mmtt"):a.getFullYear()>t.getFullYear()?n(t,"MMMM d, yyyy"):a.getMonth()>t.getMonth()?n(t,"MMMM d"):n(t,"MMMM d")+" at "+n(t,"h:mmtt"),e):void 0}var J={makeId:$,getRandomInt:U,timeSince:P},z={props:{activity:{type:Object},idx:{type:Number},inCard:{type:Boolean}},data:function(){return{showList:!1,showCard:!1}},created:function(){},methods:{timeToShow:function(t){return J.timeSince(t)},openCard:function(){this.activeLink&&this.$router.push("/b/".concat(this.$store.getters.boardId,"/c/").concat(this.activity.card.id))}},computed:{activitiesToShow:function(){var t=this.activity.txt.length;return" list"==="".concat(this.activity.txt).substring(t-5,t)?"".concat(this.activity.txt):this.activity.txt+"this card"},notificationToShow:function(){var t=this.activity.txt.length;return" list"==="".concat(this.activity.txt).substring(t-5,t)?"".concat(this.activity.txt):this.activity.card?(this.showCard=!0,this.activity.listTitle&&(this.showList=!0),"".concat(this.activity.txt)):"".concat(this.activity.txt)},activitiesLength:function(){return this.$store.getters.activitiesLength},activeLink:function(){if(!this.activity.card)return!1;var t=this.$store.getters.board,e=this.activity.card.id,a=t.lists.find((function(t){return t.cards.find((function(t){return t.id===e}))}));if(!a)return!1;var s=a.cards.find((function(t){return t.id===e}));return!!s}},components:{Avatar:w.a}},H=z,Y=Object(l["a"])(H,N,R,!1,null,null,null),G=Y.exports,F={props:{showPopup:{type:Boolean},activities:{type:Array}},created:function(){},computed:{getLatestActivities:function(){return this.activities.slice(0,10)}},components:{activityItem:G}},Q=F,q=Object(l["a"])(Q,B,I,!1,null,null,null),Z=q.exports,V=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("div",{staticClass:"add-board-screen",on:{click:function(e){return e.stopPropagation(),t.close.apply(null,arguments)}}},[a("section",{staticClass:"add-board",on:{click:function(t){t.stopPropagation()}}},[a("div",{staticClass:"add-title",staticStyle:{"background-color":"rgb(0, 121, 191)","background-image":"url('https://images.unsplash.com/photo-1599940824219-e6aa9be5fba2?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=MnwyODA4Mzl8MHwxfHNlYXJjaHwyMXx8d29vZHN8ZW58MHx8fHwxNjM5NDA1OTYw&ixlib=rb-1.2.1&q=80&w=1080')"}},[a("input",{directives:[{name:"focus",rawName:"v-focus",value:t.onAddBoard,expression:"onAddBoard"}],ref:"title",staticClass:"_2C8dwcFUoIOCYP",attrs:{spellcheck:"false",type:"text",placeholder:"Add board title",value:""},on:{focus:function(t){return t.target.select()},input:t.checkTitle,keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.createBoard.apply(null,arguments)}}})]),a("button",{staticClass:"close _3eEh_cvwCUDPos MojEVyztONxhst",attrs:{"aria-label":"Close"},on:{click:function(e){return e.stopPropagation(),t.close.apply(null,arguments)}}},[a("span",{staticClass:"nch-icon _3W-26fmi3tFfon j0fswhntKdStWa"},[a("span",{staticClass:"sc-bdVaJa kBFJig",attrs:{role:"img","aria-label":"CloseIcon"}},[a("svg",{attrs:{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}},[a("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.5858 12L5.29289 6.70711C4.90237 6.31658 4.90237 5.68342 5.29289 5.29289C5.68342 4.90237 6.31658 4.90237 6.70711 5.29289L12 10.5858L17.2929 5.29289C17.6834 4.90237 18.3166 4.90237 18.7071 5.29289C19.0976 5.68342 19.0976 6.31658 18.7071 6.70711L13.4142 12L18.7071 17.2929C19.0976 17.6834 19.0976 18.3166 18.7071 18.7071C18.3166 19.0976 17.6834 19.0976 17.2929 18.7071L12 13.4142L6.70711 18.7071C6.31658 19.0976 5.68342 19.0976 5.29289 18.7071C4.90237 18.3166 4.90237 17.6834 5.29289 17.2929L10.5858 12Z",fill:"currentColor"}})])])])]),a("div",[a("button",{staticClass:"submit",class:{disable:t.emptyTitle},attrs:{type:"button"},on:{click:t.createBoard}},[t._v("Create board")])])])])])},X=[],W=a("f837"),K={directives:{focus:W["focus"]},name:"Home",props:{onAddBoard:{type:Boolean}},data:function(){return{emptyTitle:!0}},created:function(){return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()},computed:{boards:function(){var t=this.$store.getters.boards;return t}},methods:{checkTitle:function(t){t.target.value?this.emptyTitle=!1:this.emptyTitle=!0},close:function(){this.$emit("close")},createBoard:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.emptyTitle){e.next=2;break}return e.abrupt("return");case 2:if(a=t.$refs.title.value,10!==t.boards.length){e.next=5;break}return e.abrupt("return");case 5:return e.prev=5,e.next=8,t.$store.dispatch({type:"createBoard",title:a});case 8:s=e.sent,t.$emit("close"),t.$router.push("/b/"+s._id),e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](5),console.log("cant get new board",e.t0);case 16:case"end":return e.stop()}}),e,null,[[5,13]])})))()},setBoard:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,e.$store.dispatch({type:"loadBoard",boardId:t});case 3:e.$router.push("/b/"+t),a.next=9;break;case 6:a.prev=6,a.t0=a["catch"](0),console.log("cant get board"+t,a.t0);case 9:case"end":return a.stop()}}),a,null,[[0,6]])})))()}},components:{}},tt=K,et=Object(l["a"])(tt,V,X,!1,null,null,null),at=et.exports,st={data:function(){return{showUserPopup:!1,showNotifyPopup:!1,openSearch:!1,searchInput:""}},methods:{toggleNotification:function(){this.showNotifyPopup=!this.showNotifyPopup,this.$store.commit({type:"resetNotification"})},onAddBoard:function(){this.$emit("addBoard")},checkInput:function(t){this.openSearch=!!t.target.value},styleToShow:function(t){if(t.style)return t.style.imgUrl?{backgroundImage:'url("'.concat(t.style.imgUrl,'")')}:{backgroundColor:t.style.bgColor}}},computed:{user:function(){return this.$store.getters.user},notify:function(){return this.$store.getters.getNotificationCnt>0?"bell-notify":""},boards:function(){return this.$store.getters.boards},searchedBoards:function(){var t=this;if(this.boards)return this.boards.filter((function(e){return e.title.toLowerCase().includes(t.searchInput.toLowerCase())}))}},components:{logo:_,Avatar:w.a,userPopup:S,notificationPopup:Z,addBoard:at}},nt=st,rt=Object(l["a"])(nt,v,g,!1,null,null,null),it=rt.exports,ot={directives:{focus:W["focus"]},name:"Home",data:function(){return{user:null,onAddBoard:!1,emptyTitle:!0}},created:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch({type:"loadBoards"});case 2:case"end":return e.stop()}}),e)})))()},computed:{boards:function(){var t=this.$store.getters.boards;return t}},methods:{bgImage:function(t){if(t)return t.style.imgUrl?t.style.imgUrl.includes("http")?{backgroundImage:'url("'.concat(t.style.imgUrl,'")')}:void 0:{backgroundColor:t.style.bgColor}},setBoard:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,e.$store.dispatch({type:"loadBoard",boardId:t});case 3:e.$router.push("/b/"+t),a.next=9;break;case 6:a.prev=6,a.t0=a["catch"](0),console.log("cant get board"+t,a.t0);case 9:case"end":return a.stop()}}),a,null,[[0,6]])})))()}},components:{appHeader:it,addBoard:at}},ct=ot,lt=Object(l["a"])(ct,m,f,!1,null,null,null),ut=lt.exports,dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"about"},[a("header",[a("img",{attrs:{src:"",alt:""}}),a("button",{on:{click:function(e){return t.$router.push("/home")}}},[t._v("Go to your boards")]),a("h1",[t._v("About Fellow")]),a("h2",[t._v("What's behind the boards.")])])])},pt=[],ht={},mt=Object(l["a"])(ht,dt,pt,!1,null,null,null),ft=mt.exports,vt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"login-page-wrapper"},[s("div",{staticClass:"fellow-left"}),t.isLoading?s("div",{staticClass:"loader"},[s("img",{attrs:{src:a("281f"),alt:""}})]):s("section",{staticClass:"login-page"},[s("div",[t._m(0),s("section",{staticClass:"inner-section"},[s("div",{staticClass:"section-wrapper quick-switch"},[s("div",{staticClass:"layout-twothirds-center account-form"},[s("h1",[t._v(" "+t._s(t.signUp?"Sign up for your account":"Log in to Fellow")+" ")]),s("p",{directives:[{name:"show",rawName:"v-show",value:t.invalid,expression:"invalid"}]},[t._v("Invalid name or password")]),s("p",{directives:[{name:"show",rawName:"v-show",value:t.error,expression:"error"}]},[t._v("An error accrued, please try again")]),s("div",{staticClass:"login-password-container"},[s("form",{attrs:{id:"login-form"},on:{submit:function(e){return e.preventDefault(),t.submit.apply(null,arguments)}}},[s("div",{staticClass:"login-password-container-email"},[s("div",{staticClass:"email-password"},[s("div",{staticClass:"hide-when-two-factor"},[s("input",{directives:[{name:"show",rawName:"v-show",value:t.signUp,expression:"signUp"},{name:"model",rawName:"v-model",value:t.user.fullname,expression:"user.fullname"}],staticClass:"form-field",attrs:{type:"text",name:"fullname",id:"fullname",autocorrect:"off",spellcheck:"false",autocapitalize:"off",placeholder:"Full Name",value:""},domProps:{value:t.user.fullname},on:{input:function(e){e.target.composing||t.$set(t.user,"fullname",e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.username,expression:"user.username"}],staticClass:"form-field",attrs:{type:"text",name:"user",id:"user",autocorrect:"off",spellcheck:"false",autocapitalize:"off",autofocus:"autofocus",placeholder:"Email",value:"",autocomplete:"username",inputmode:"email"},domProps:{value:t.user.username},on:{focus:function(t){return t.target.select()},input:function(e){e.target.composing||t.$set(t.user,"username",e.target.value)}}}),s("div",{staticClass:"show-when-password",attrs:{id:"password-entry"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"form-field",attrs:{type:"password",name:"password",id:"password",placeholder:"Password",autocomplete:"current-password"},domProps:{value:t.user.password},on:{focus:function(t){return t.target.select()},input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}})])]),s("input",{staticClass:"button account-button button-green btn btn-success",attrs:{id:"submit",type:"submit"},domProps:{value:t.signUp?"Sign up":"Log in"}})])])]),s("div",{staticClass:"login-methods hide-when-two-factor"},[s("div",{staticClass:"login-method-separator"},[t._v("OR")]),s("div",{staticClass:"login-oauth-container"},[s("GoogleLogin",{staticClass:"google-button oauth-button",attrs:{params:t.params,onSuccess:t.logInWithGoogle,onFailure:t.onFailure,id:"googleButton",tabindex:"0"}},[s("span",{staticClass:"google-icon icon",attrs:{id:"google-icon"}}),s("span",{staticClass:"label",attrs:{"data-analytics-button":"loginWithGmailButton"}},[t._v("Continue with Google")])]),s("div",{staticClass:"msft-button oauth-button",attrs:{id:"msftButton",tabindex:"0"}},[s("i",{staticClass:"fab fa-facebook-square facebook-icon"}),s("span",{staticClass:"label",attrs:{"data-analytics-button":"loginWithMicrosoftButton"},on:{click:t.logInWithFacebook}},[t._v("Continue with Facebook")])])],1)])]),s("hr",{staticClass:"bottom-form-separator"}),s("ul",{staticClass:"bottom-form-link"},[s("li",[s("a",{staticClass:"signupLink bottom-form-link",attrs:{"data-analytics-link":"signUpLoginLink"},on:{click:t.toggleSignUp}},[t._v(t._s(t.signUp?"Already have an account? Log In":"Sign up for an account"))])])])])])])]),s("br")]),s("div",{staticClass:"fellow-right"})])},gt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"fellow-main-logo"},[s("img",{staticClass:"logo-img",attrs:{src:a("0aab"),alt:""}}),s("span",{staticClass:"logo"},[t._v("Fellow")])])}],bt=(a("b0c0"),{directives:{focus:W["focus"]},data:function(){return{user:{fullname:"",username:"demo",password:"demo"},signUp:!1,isLoading:!1,invalid:!1,error:!1,params:{client_id:"961995621272-60aj5sk5o9vlm2a68pqoqbtd32uo5ka3.apps.googleusercontent.com"}}},created:function(){return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()},methods:{loginExternal:function(t,e,a,s,n){var r=this;return Object(i["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,r.$store.dispatch({type:"externalLogin",username:t,fullname:e,imgUrl:a,googleUser:s,fbUser:n});case 3:r.$router.push("/home"),i.next=10;break;case 6:i.prev=6,i.t0=i["catch"](0),console.log("googl user",i.t0),r.error=!0;case 10:case"end":return i.stop()}}),i,null,[[0,6]])})))()},submit:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isLoading=!0,t.invalid=!1,t.error=!1,e.prev=3,e.next=6,t.$store.dispatch({type:t.signUp?"signup":"login",username:t.user.username,password:t.user.password,fullname:t.signUp?t.user.fullname:""});case 6:t.user.fullname="",t.user.username="demo",t.user.password="demo",t.$router.push("/home"),e.next=17;break;case 12:e.prev=12,e.t0=e["catch"](3),console.log("cant ".concat(t.signUp?"signup":"login "," user:  ").concat(t.user.username),e.t0),t.invalid=!0,t.user.password="";case 17:return e.prev=17,t.isLoading=!1,e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[3,12,17,20]])})))()},toggleSignUp:function(){this.signUp?(this.user.username="demo",this.user.password="demo"):(this.user.username="",this.user.password="",this.user.fullname=""),this.signUp=!this.signUp,this.error=!1},logInWithGoogle:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:try{e.error=!1,s=t.getBasicProfile(),e.loginExternal(s.pv,s.jf,s.oN,!0,!1)}catch(n){console.log("cant login with google",n),e.error=!0}case 1:case"end":return a.stop()}}),a)})))()},onFailure:function(t){console.log("failed",t),this.error=!0},logInWithFacebook:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.error=!1,a=t,window.FB.login(function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.authResponse?FB.api("/me",{fields:"name, email, picture"},function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log(e),a.loginExternal(e.email,e.name,e.picture.data.url,!1,!0);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()):(this.error=!0,alert("User cancelled login or did not fully authorize."));case 1:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),{return_scopes:!0});case 3:case"end":return e.stop()}}),e)})))()}},components:{logo:_,GoogleLogin:T.a}}),wt=bt,Ct=Object(l["a"])(wt,vt,gt,!1,null,null,null),yt=Ct.exports,kt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.board?a("section",{staticClass:"board-app",class:{"display-modal":t.selectedCardId}},[a("app-header",{on:{addBoard:function(e){t.onAddBoard=!0}}}),a("add-board",{directives:[{name:"show",rawName:"v-show",value:t.onAddBoard,expression:"onAddBoard"}],attrs:{onAddBoard:t.onAddBoard},on:{close:function(e){t.onAddBoard=!1}}}),a("workspace-nav",{on:{openBar:t.onOpenBar}}),a("board-header",{class:{"nav-open":t.openBar,dark:t.board.style.isDark,light:!t.board.style.isDark},on:{updateBoard:t.updateBoard,deleteBoard:t.deleteBoard}}),a("dash-board",{attrs:{board:t.board,showDashboard:t.$store.getters.showDashboard},on:{close:function(e){return t.$store.commit({type:"toggleDashboard"})}}}),a("div",{ref:"board",staticClass:"board-container"},[a("Container",{staticClass:"board smooth-dnd-container",class:{"nav-open":t.openBar},attrs:{tag:"ul",orientation:"horizontal","drag-class":"card-ghost","drop-class":"card-ghost-drop","drag-handle-selector":".drag-handle"},on:{drop:function(e){return t.onColumnDrop(e)}}},[t._l(t.board.lists,(function(e,s){return a("Draggable",{key:e.id,staticClass:"list-wrapper",attrs:{tag:"li"}},[a("board-list",{attrs:{list:e,idx:s},on:{update:t.updateList,updateBoard:t.updateBoard,deleteList:t.deleteList}})],1)})),a("div",{staticClass:"add-list-wrapper"},[a("li",{staticClass:"new-list",class:{"height-0":t.isAddList,dark:t.board.style.isDark,light:!t.board.style.isDark},on:{click:t.setAddList}},[a("p",[a("span",[a("i",{staticClass:"icon-sm icon-plus"})]),t._v(" "+t._s(t.addListText)+" ")])]),a("li",{staticClass:"list-add",class:{"height-0":!t.isAddList,"add-list":t.isAddList}},[a("input",{directives:[{name:"focus",rawName:"v-focus",value:t.isAddList,expression:"isAddList"},{name:"model",rawName:"v-model",value:t.newListTitle,expression:"newListTitle"}],ref:"input",attrs:{type:"text"},domProps:{value:t.newListTitle},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addList.apply(null,arguments)},blur:t.addList,input:function(e){e.target.composing||(t.newListTitle=e.target.value)}}}),a("div",{staticClass:"list-add-controls"},[a("button",{staticClass:"submit-btn add-list-btn",on:{click:t.addList}},[t._v(" Add List ")]),a("button",[a("span",{staticClass:"icon-close icon-lg close-add-btn",on:{click:function(e){t.isAddList=!1}}})])])])])],2)],1),t.selectedCardId?a("router-view"):t._e()],1):t._e()},xt=[],At=a("2909"),_t=(a("a434"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.board?a("header",{staticClass:"board-header",class:{"main-menu-spacing":t.showMainMenu}},[a("section",{staticClass:"left-header"},[t.editTitle?t._e():a("router-link",{staticClass:"back-home",attrs:{to:"/home"}},[a("span",{staticClass:"icon-md icon-back"})]),t.editTitle?a("button",{staticClass:"close-small",class:{edit:this.editTitle},on:{click:t.closeEditTitle}},[a("span",{staticClass:"icon-close"})]):t._e(),a("div",{ref:"editBoardTitle",staticClass:"title",attrs:{contenteditable:"true"},on:{focus:function(e){t.editTitle=!0},blur:t.updateTitle,keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.removeBr.apply(null,arguments)}}},[t._v(" "+t._s(t.board.title)+" ")]),a("div",{staticClass:"title-small-cont"},[a("div",{ref:"smallEdit",staticClass:"title-small",attrs:{contenteditable:"true"},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.updateTitle.apply(null,arguments)},click:t.openEditTitle}},[t._v(" "+t._s(t.board.title)+" ")])]),t._m(0),a("button",{staticClass:"invite-btn bh-btn",on:{click:function(e){t.openInvite=!0}}},[a("span",{staticClass:"icon-sm icon-add-member icon-header"}),a("p",{staticClass:"invite-txt"},[t._v("Invite")]),t.openInvite?a("invite",{on:{close:function(e){t.openInvite=!1},update:t.inviteMembers}}):t._e()],1),a("Container",{staticClass:"members",attrs:{tag:"p","group-name":"card-list","should-animate-drop":t.shouldAnimateDrop,behaviour:"copy"},on:{drop:t.onDrop,onDragStart:function(e){return t.onDragStart()}}},t._l(t.membersToShow,(function(e,s){return a("Draggable",{key:e.id},[a("avatar",{style:{"z-index":t.board.members.length-s},attrs:{username:e.fullname,size:28,lighten:200,src:e.imgUrl,title:e.fullname}})],1)})),1)],1),a("section",[t.showMainMenu?t._e():a("button",{staticClass:"bh-btn show-menu-btn",on:{click:function(e){t.showMainMenu=!0}}},[a("span",{staticClass:"icon-sm icon-dots icon-header header-show-menu"}),t._v("Show menu ")]),t.showMainMenu||t.editTitle?t._e():a("button",{staticClass:"show-small",on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.showMainMenu=!0}}},[a("span",{staticClass:"icon-sm icon-dots"})]),t.editTitle?a("button",{staticClass:"title-small-check",class:{edit:this.editTitle},on:{click:t.updateTitle}},[a("span",{staticClass:"icon-check"})]):t._e(),a("main-menu",{class:t.mainMenuToggle,on:{deleteBoard:t.deleteBoard,close:function(e){t.showMainMenu=!1},showUserAccount:function(e){return t.$emit("updatePopupState",e)}}})],1)]):t._e()}),jt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"board-star bh-btn"},[a("i",{staticClass:"icon-sm icon-star"})])}],Lt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"card-popup main-menu"},[s("header",{staticClass:"popup-header"},[s("h4",[t._v("Menu")]),s("div",{on:{click:t.closeMenu}},[s("span",{staticClass:"menu-close icon-md icon-close"})])]),s("ul",{staticClass:"main-menu-actions"},[t._m(0),s("li",{staticClass:"menu-action",on:{click:function(e){t.isChangeColor=!0}}},[s("span",{staticClass:"icon-img",style:t.styleToShow}),s("h3",[t._v("Change background")])]),s("li",{staticClass:"menu-action",on:{click:t.openDashboard}},[t._m(1)])]),s("ul",{staticClass:"action-board"},[s("li",{staticClass:"menu-action"},[t._m(2),s("section",{staticClass:"main-menu-members-container"},t._l(t.membersToShow,(function(e,a){return s("avatar",{key:e.id,style:{"z-index":t.membersToShow.length-a},attrs:{username:e.fullname,size:28,lighten:200,src:e.imgUrl,title:e.fullname}})})),1)]),s("li",{staticClass:"menu-action",on:{click:function(e){t.showUserPopup=!0}}},[t._m(3)]),s("li",{staticClass:"menu-action",on:{click:t.deleteBoard}},[t._m(4)])]),s("ul",{staticClass:"menu-action main-menu-activities"},[s("li",{on:{click:function(e){t.showAct=!t.showAct}}},[t._m(5)])]),s("section",{directives:[{name:"show",rawName:"v-show",value:t.isChangeColor,expression:"isChangeColor"}],staticClass:"card-popup main-menu"},[s("header",{staticClass:"popup-header"},[s("h4",[t._v("Change background")]),s("span",{staticClass:"back-popup icon-md icon-back",on:{click:function(e){t.isChangeColor=!1}}}),s("div",[s("span",{staticClass:"menu-close icon-md icon-close",on:{click:t.closeMenu}})])]),s("ul",{staticClass:"main-menu-background"},[s("li",[s("div",{staticClass:"menu-background-size background-photo",on:{click:t.requestPhotos}}),s("p",[t._v("Photos")])]),s("li",[s("div",{staticClass:"menu-background-size background-colors",on:{click:function(e){t.isColorSelected=!0}}}),s("p",[t._v("Colors")])])]),t._m(6)]),s("section",{directives:[{name:"show",rawName:"v-show",value:t.isColorSelected,expression:"isColorSelected"}],staticClass:"card-popup main-menu"},[s("header",{staticClass:"popup-header"},[s("h4",[t._v("Colors")]),s("span",{staticClass:"back-popup icon-md icon-back",on:{click:function(e){t.isColorSelected=!1}}}),s("div",[s("span",{staticClass:"menu-close icon-md icon-close",on:{click:t.closeMenu}})])]),s("ul",{staticClass:"menu-color-set"},t._l(t.colorSet,(function(e){return s("li",{key:e},[s("div",{staticClass:"menu-background-size",style:{backgroundColor:e},on:{click:function(a){return t.setBg(e)}}})])})),0)]),s("section",{directives:[{name:"show",rawName:"v-show",value:t.isPhotosSelected,expression:"isPhotosSelected"}],staticClass:"card-popup main-menu"},[s("header",{staticClass:"popup-header"},[s("h4",[t._v("Photos")]),s("span",{staticClass:"back-popup icon-md icon-back",on:{click:function(e){t.isPhotosSelected=!1}}}),s("div",[s("span",{staticClass:"menu-close icon-md icon-close",on:{click:t.closeMenu}})])]),s("div",{staticClass:"main-menu-search"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchKey,expression:"searchKey"}],attrs:{type:"text",placeholder:"Photos"},domProps:{value:t.searchKey},on:{change:function(e){return t.requestPhotos()},input:function(e){e.target.composing||(t.searchKey=e.target.value)}}})]),s("ul",{staticClass:"menu-color-set"},t._l(t.getImgs,(function(e,n){return s("li",{key:n},[s("div",{staticClass:"menu-background-size",style:{backgroundImage:"url("+e.regular+")"},on:{click:function(a){return t.setBg(e.regular)}}},[t.loading===e.regular?s("div",{staticClass:"loader"},[s("img",{attrs:{src:a("281f"),alt:""}}),t._v(" Uploading... ")]):t._e()])])})),0)])])},Et=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"menu-about"},[a("h3",[a("span",{staticClass:"menu-action-icon icon-lg icon-board"}),t._v(" About this board")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h3",[a("span",{staticClass:"menu-action-icon icon-lg icon-home"}),t._v("Dashboard")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h3",[a("span",{staticClass:"menu-action-icon icon-md icon-members"}),t._v("Members")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h3",[a("span",{staticClass:"menu-action-icon icon-md icon-member"}),t._v("User account")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h3",[a("span",{staticClass:"menu-action-icon icon-md icon-archive"}),t._v("Archive board")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h3",[a("span",{staticClass:"menu-action-icon icon-lg icon-activity"}),t._v("Activity")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"menu-bgc-custom"},[a("h2",[t._v("Custom")]),a("div",{staticClass:"menu-background-size action-btn"},[a("span",{staticClass:"custom-btn icon-md icon-plus"})])])}],Tt=a("2831"),Ot={data:function(){return{isChangeColor:!1,isColorSelected:!1,isPhotosSelected:!1,searchKey:"",colorSet:["#0079bf","#d29134","#519839","#b04632","#89609e","#cd5a91","#4bbf6b","#13aecc","#838c91"],loading:"",showAct:!1}},methods:{requestPhotos:function(){this.isPhotosSelected=!0,this.$store.dispatch({type:"requestPhotos",searchKey:this.searchKey})},setBg:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var s,n,r,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if("#"!==t.charAt(0)){a.next=4;break}s={imgUrl:null,bgColor:t,isDark:!0},a.next=10;break;case 4:return e.loading=t,n=new Tt["a"],a.next=8,n.getColorAsync(t);case 8:r=a.sent,s={imgUrl:t,bgColor:r.rgba,isDark:r.isDark};case 10:return a.prev=10,console.log("style",s),i=e.$store.getters.boardId,a.next=15,e.$store.dispatch({type:"setBackground",boardId:i,style:s});case 15:return a.next=17,e.$store.dispatch({type:"loadBoards"});case 17:e.loading="",a.next=23;break;case 20:a.prev=20,a.t0=a["catch"](10),console.log("cant set board bg",a.t0);case 23:case"end":return a.stop()}}),a,null,[[10,20]])})))()},openDashboard:function(){this.$store.commit({type:"toggleDashboard"}),this.closeMenu()},closeMenu:function(){this.$emit("close"),this.isChangeColor=!1,this.isColorSelected=!1,this.isPhotosSelected=!1,this.searchKey=""},deleteBoard:function(){this.$emit("deleteBoard")}},computed:{styleToShow:function(){if(this.boardStyle)return this.boardStyle.imgUrl?{backgroundImage:'url("'.concat(this.boardStyle.imgUrl,'")')}:{backgroundColor:this.boardStyle.bgColor}},boardStyle:function(){return this.$store.getters.board.style},getImgs:function(){return this.$store.getters.getBgPhotos},membersToShow:function(){return this.$store.getters.board.members}},components:{Avatar:w.a,userPopup:S,activityItem:G}},Mt=Ot,Dt=Object(l["a"])(Mt,Lt,Et,!1,null,null,null),St=Dt.exports,Bt=a("3f7d"),It=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"card-popup members-popup invite"},[a("header",{staticClass:"popup-header"},[a("h4",[t._v("Invite to Board")]),a("div",{on:{click:function(e){return e.stopPropagation(),t.$emit("close")}}},[a("span",{staticClass:"close-popup icon-md icon-close"})])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.filterBy.txt,expression:"filterBy.txt"}],attrs:{type:"text",placeholder:"Email address or name"},domProps:{value:t.filterBy.txt},on:{change:t.searchMembers,input:function(e){e.target.composing||t.$set(t.filterBy,"txt",e.target.value)}}}),a("form",{on:{submit:function(t){t.preventDefault()}}},[a("ul",{staticClass:"invite-body"},t._l(t.searchedMembers,(function(e){return a("li",{key:e.id,staticClass:"item js-member-item active selected",class:{disable:t.isMember},on:{click:function(a){return t.addMember(e)}}},[a("a",{staticClass:"name js-select-member member-container",attrs:{href:"#",memberId:e._id,title:e.fullname+" ("+e.username+")",autocompletetext:e.username}},[a("avatar",{staticClass:"invite-icon",attrs:{username:e.fullname,size:32,lighten:200,src:e.imgUrl}}),a("p",{staticClass:"full-name",attrs:{name:e.fullname+" ("+e.username+")"}},[t._v(" "+t._s(e.fullname)+" ")]),a("p",{staticClass:"username"},[t._v("("+t._s(e.username)+")")])],1)])})),0)])])},Nt=[],Rt=(a("e9c4"),a("bc3a")),$t=a.n(Rt),Ut="/api/",Pt=$t.a.create({withCredentials:!0}),Jt={get:function(t,e){return zt(t,"GET",e)},post:function(t,e){return zt(t,"POST",e)},put:function(t,e){return zt(t,"PUT",e)},delete:function(t,e){return zt(t,"DELETE",e)}};function zt(t){return Ht.apply(this,arguments)}function Ht(){return Ht=Object(i["a"])(regeneratorRuntime.mark((function t(e){var a,s,n,r=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=r.length>1&&void 0!==r[1]?r[1]:"GET",s=r.length>2&&void 0!==r[2]?r[2]:null,t.prev=2,t.next=5,Pt({url:"".concat(Ut).concat(e),method:a,data:s,params:"GET"===a?s:null});case 5:return n=t.sent,t.abrupt("return",n.data);case 9:throw t.prev=9,t.t0=t["catch"](2),console.log("Had Issues ".concat(a,"ing to the backend, endpoint: ").concat(e,", with data:"),s),console.dir(t.t0),t.t0.response&&401===t.t0.response.status&&(void 0).push("/login"),t.t0;case 15:case"end":return t.stop()}}),t,null,[[2,9]])}))),Ht.apply(this,arguments)}a("c740");var Yt="usersDB",Gt="loggedInUser",Ft={login:Vt,getLoggedInUser:Zt,logout:ae,signup:te,query:Qt,externalLogin:Wt};function Qt(t){return qt.apply(this,arguments)}function qt(){return qt=Object(i["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("filter userservice query",e),t.prev=1,t.abrupt("return",Jt.get("user/",e));case 5:t.prev=5,t.t0=t["catch"](1),console.log("error:",t.t0);case 8:case"end":return t.stop()}}),t,null,[[1,5]])}))),qt.apply(this,arguments)}function Zt(){return JSON.parse(sessionStorage.getItem(Gt))}function Vt(t,e){return Xt.apply(this,arguments)}function Xt(){return Xt=Object(i["a"])(regeneratorRuntime.mark((function t(e,a){var s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Jt.post("auth/login",{username:e,password:a});case 3:return s=t.sent,console.log("Got User:",s),n=JSON.parse(JSON.stringify(s)),sessionStorage.setItem(Gt,JSON.stringify(n)),t.abrupt("return",n);case 12:throw t.prev=12,t.t0=t["catch"](0),console.log("can't login",t.t0),t.t0;case 16:case"end":return t.stop()}}),t,null,[[0,12]])}))),Xt.apply(this,arguments)}function Wt(t,e,a,s,n){return Kt.apply(this,arguments)}function Kt(){return Kt=Object(i["a"])(regeneratorRuntime.mark((function t(e,a,s,n,r){var i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Jt.post("auth/externalLogin",{username:e,fullname:a,imgUrl:s,googleUser:n,fbUser:r});case 3:return i=t.sent,console.log("Got User:",i),o=JSON.parse(JSON.stringify(i)),sessionStorage.setItem(Gt,JSON.stringify(o)),t.abrupt("return",o);case 10:throw t.prev=10,t.t0=t["catch"](0),console.log("can't google login",t.t0),t.t0;case 14:case"end":return t.stop()}}),t,null,[[0,10]])}))),Kt.apply(this,arguments)}function te(t,e,a){return ee.apply(this,arguments)}function ee(){return ee=Object(i["a"])(regeneratorRuntime.mark((function t(e,a,s){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Jt.post("auth/signup",{username:e,password:a,fullname:s});case 3:return n=t.sent,console.log("New user:",n),r=JSON.parse(JSON.stringify(n)),sessionStorage.setItem(Gt,JSON.stringify(r)),t.abrupt("return",r);case 10:throw t.prev=10,t.t0=t["catch"](0),console.log("can't signup",t.t0),t.t0;case 14:case"end":return t.stop()}}),t,null,[[0,10]])}))),ee.apply(this,arguments)}function ae(){return se.apply(this,arguments)}function se(){return se=Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Jt.post("auth/logout");case 3:sessionStorage.removeItem(Gt),t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),console.log("can't logout",t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])}))),se.apply(this,arguments)}function ne(){var t=JSON.parse(localStorage.getItem(Yt));return t&&t.length||(t=[{fullname:"Adam Bercovich",username:"adamBerco",password:"1234",imgUrl:"https://res.cloudinary.com/oshra/image/upload/v1638867158/ohpwye1f7oidmqy7cujl.jpg"},{fullname:"Osher Cappelli",username:"osherCappelli",password:"1234",imgUrl:"https://res.cloudinary.com/oshra/image/upload/v1638865093/fefzoaamkdnpvk9pt4sj.jpg"},{fullname:"Oshra Hartuv",username:"oshraHartuv1",password:"1234",imgUrl:"https://res.cloudinary.com/oshra/image/upload/v1638865116/zlvylnqwvx8bcvp66lpn.jpg"},{fullname:"Jonathan Peck",username:"lazypeacock761",password:"proxy",imgUrl:"https://randomuser.me/api/portraits/men/27.jpg"},{fullname:"Robin Woods",username:"bluebird535",password:"deadpool",imgUrl:"https://randomuser.me/api/portraits/women/24.jpg"},{fullname:"Yvonne Carroll",username:"organicdog552",password:"vantage",imgUrl:"https://randomuser.me/api/portraits/women/41.jpg"},{fullname:"Jane Hill",username:"yellowladybug184",password:"herewego",imgUrl:"https://randomuser.me/api/portraits/women/18.jpg"},{fullname:"Daniel Hughes",username:"smallduck899",password:"music1",imgUrl:"https://randomuser.me/api/portraits/men/28.jpg"},{fullname:"Ashley Carroll",username:"redswan501",password:"grizzly",imgUrl:"https://randomuser.me/api/portraits/women/21.jpg"},{fullname:"Peter Hicks",username:"brownbutterfly691",password:"rrrrrr",imgUrl:"https://randomuser.me/api/portraits/men/80.jpg"},{fullname:"Rick Bailey",username:"silvermouse583",password:"dana",imgUrl:"https://randomuser.me/api/portraits/men/83.jpg"},{fullname:"Bernard Miller",username:"whiteostrich566",password:"lolo",imgUrl:"https://randomuser.me/api/portraits/men/90.jpg"},{fullname:"Brandon Bailey",username:"bigpeacock932",password:"mollie",imgUrl:"https://randomuser.me/api/portraits/men/55.jpg"}],localStorage.setItem(Yt,JSON.stringify(t))),t}ne();var re,ie,oe,ce,le,ue,de={data:function(){return{searchedMembers:null,filterBy:{txt:""}}},methods:{isMember:function(t){},searchMembers:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ft.query(t.filterBy);case 3:t.searchedMembers=e.sent,console.log("searchedMembers",t.searchedMembers),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log("err",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},addMember:function(t){console.log("member",t),this.$emit("update",JSON.parse(JSON.stringify(t)))},toggleMember:function(t){}},computed:{membersToShow:function(){}},components:{Avatar:w.a}},pe=de,he=Object(l["a"])(pe,It,Nt,!1,null,null,null),me=he.exports,fe={directives:{focus:W["focus"]},data:function(){return{showMainMenu:!1,editTitle:!1,lastTitle:"",isSmall:!1,openInvite:!1}},mounted:function(){},methods:{closeEditTitle:function(){this.board.title=this.lastTitle,this.$refs.smallEdit.innerText=this.board.title,this.editTitle=!1,this.isSmall=!1,this.$refs.smallEdit.blur()},openEditTitle:function(){this.lastTitle=this.board.title,this.editTitle=!0,this.isSmall=!0,this.$refs.smallEdit.focus()},removeBr:function(){this.$refs.editBoardTitle.blur()},updateTitle:function(){console.log(this.lastTitle),this.board.title=this.isSmall?this.$refs.smallEdit.innerText:this.$refs.editBoardTitle.innerText,this.$emit("updateBoard",this.board),this.editTitle=!1,this.isSmall=!1,this.$refs.smallEdit.blur()},deleteBoard:function(){confirm("This action will delete the board! continue?")&&this.$emit("deleteBoard")},onDragStart:function(t){},onDrop:function(t){},shouldAnimateDrop:function(t,e){return!1},inviteMembers:function(t){this.board.members.find((function(e){return e._id===t._id}))||(this.board.members.push(t),this.$emit("updateBoard",this.board))}},computed:{board:function(){return this.$store.getters.board},membersToShow:function(){return this.board.members},mainMenuToggle:function(){return this.showMainMenu?"show-main-menu":"hide-main-menu"}},components:{mainMenu:St,Avatar:w.a,Container:Bt["Container"],Draggable:Bt["Draggable"],invite:me}},ve=fe,ge=Object(l["a"])(ve,_t,jt,!1,null,null,null),be=ge.exports,we=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div")},Ce=[],ye={},ke=ye,xe=Object(l["a"])(ke,we,Ce,!1,null,null,null),Ae=xe.exports,_e=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"list"},[a("header",[t.editTitle?a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.updatedList.title,expression:"updatedList.title"},{name:"focus",rawName:"v-focus",value:t.editTitle,expression:"editTitle"}],attrs:{placeholder:"Enter title"},domProps:{value:t.updatedList.title},on:{focus:function(t){return t.target.select()},blur:function(e){return t.updateList()},keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.updateList()},input:function(e){e.target.composing||t.$set(t.updatedList,"title",e.target.value)}}}):a("h4",{staticClass:"drag-handle",on:{click:function(e){t.editTitle=!0}}},[t._v(" "+t._s(t.showTitle)+" ")]),t._v(" "),a("button",{on:{click:function(e){t.listMenu=!t.listMenu}}},[a("span",{staticClass:"icon-sm icon-dots"})]),a("section",{directives:[{name:"show",rawName:"v-show",value:t.listMenu,expression:"listMenu"}],staticClass:"card-popup list-popup",on:{click:function(t){t.stopPropagation()}}},[a("section",{staticClass:"popup-header"},[a("div",{on:{click:function(e){e.stopPropagation(),t.listMenu=!1}}},[a("span",{staticClass:"close-popup icon-md icon-close"})]),a("h4",[t._v("List action")])]),a("span",{staticClass:"action",on:{click:t.deleteList}},[t._v("Delete this list")])])]),a("Container",{staticClass:"card-list",class:t.emptyList,attrs:{tag:"ul","group-name":"cardList","drag-class":"card-ghost","drop-class":"card-ghost-drop","drop-placeholder":{className:"ghost"},"get-child-payload":t.getChildPayload(JSON.parse(JSON.stringify(t.list)))},on:{drop:function(e){return t.onCardDrop(t.list,e)}}},t._l(t.updatedList.cards,(function(e){return a("Draggable",{key:e.id,attrs:{tag:"li"}},[a("card-list",{attrs:{card:e,list:t.list},on:{change:t.updatedList}})],1)})),1),a("footer",{staticClass:"add-card"},[t.isAddCard?a("div",{staticClass:"add-card-actions"},[a("input",{directives:[{name:"focus",rawName:"v-focus",value:t.isAddCard,expression:"isAddCard"},{name:"model",rawName:"v-model",value:t.newCardTitle,expression:"newCardTitle"}],attrs:{type:"text"},domProps:{value:t.newCardTitle},on:{blur:t.addCard,keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addCard.apply(null,arguments)},input:function(e){e.target.composing||(t.newCardTitle=e.target.value)}}}),a("div",{staticClass:"add-card-btns"},[a("div",{staticClass:"submit-btns"},[a("button",{staticClass:"submit-btn submit-card",on:{click:t.addCard}},[t._v(" Add Card ")]),a("button",[a("span",{staticClass:"icon-close icon-lg close-add-btn",attrs:{id:"close",name:"close"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.closeAddCard.apply(null,arguments)}}})])]),t._m(0)])]):a("button",{staticClass:"add-card",on:{click:function(e){t.isAddCard=!0}}},[a("span",{staticClass:"icon-sm icon-plus"}),a("p",[t._v("Add a card")])])])],1)},je=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"dots"},[a("span",{staticClass:"icon-dots icon-lg"})])}],Le=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("card-preview",{attrs:{card:t.card,list:t.list,labelsState:t.$store.getters.labelsState}})},Ee=[],Te=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.card?a("section",{ref:"card",staticClass:"card",class:{"with-cover":t.card.style},on:{click:t.showDetails}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.card.style,expression:"card.style"}],staticClass:"cover-img",style:t.getCover}),a("span",{staticClass:"card-wrapper",on:{click:function(t){t.stopPropagation(),t.preventDefault()}}},t._l(t.getLabels,(function(e){return a("span",{key:e.id,staticClass:"open-label",class:[e.colorClass,t.setLabelClass],on:{click:function(e){return e.stopPropagation(),t.onLabelClick.apply(null,arguments)},mouseover:function(e){t.islabelHover=!0},mouseleave:function(e){t.islabelHover=!1}}},[a("span",{staticClass:"text-label"},[t._v(t._s(e.txt))])])})),0),t._m(0),a("section",{staticClass:"card-title"},[a("p",{ref:t.card.id},[t._v(t._s(t.card.title))])]),a("section",{staticClass:"card-icons"},[t.card.isWatch?a("div",{staticClass:"icon-wrapper"},[a("span",{staticClass:"icon-sm icon-watch badge"})]):t._e(),t.card.dueDate?a("div",{staticClass:"icon-wrapper date",class:t.dateClass,on:{click:function(e){return e.stopPropagation(),t.checkCard.apply(null,arguments)}}},[a("span",{staticClass:"clock icon-sm icon-clock badge"}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.card.isComplete,expression:"card.isComplete"}],attrs:{id:"cbp",type:"checkbox"},domProps:{checked:Array.isArray(t.card.isComplete)?t._i(t.card.isComplete,null)>-1:t.card.isComplete},on:{change:function(e){var a=t.card.isComplete,s=e.target,n=!!s.checked;if(Array.isArray(a)){var r=null,i=t._i(a,r);s.checked?i<0&&t.$set(t.card,"isComplete",a.concat([r])):i>-1&&t.$set(t.card,"isComplete",a.slice(0,i).concat(a.slice(i+1)))}else t.$set(t.card,"isComplete",n)}}}),a("label",{attrs:{for:"cbp"}}),a("span",{staticClass:"icon-text"},[t._v(t._s(t.dateToShow))])]):t._e(),t.card.description?a("div",{staticClass:"icon-wrapper"},[a("span",{staticClass:"icon-sm icon-desc badge"})]):t._e(),t.card.attachments&&t.card.attachments.length?a("div",{staticClass:"icon-wrapper"},[a("span",{staticClass:"icon-sm icon-attach badge"}),a("span",{staticClass:"icon-text"},[t._v(t._s(t.card.attachments.length))])]):t._e(),t.card.checklists&&t.card.checklists.length&&t.todos?a("div",{staticClass:"icon-wrapper"},[a("span",{staticClass:"icon-sm icon-checklist badge"}),a("span",{staticClass:"icon-text"},[t._v(t._s(t.doneTodos)+"/"+t._s(t.todos))])]):t._e()]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.card.members.length,expression:"card.members.length"}],staticClass:"card-members-preview"},t._l(t.card.members,(function(t){return a("avatar",{key:t.id,staticClass:"member-avatar",attrs:{username:t.fullname,size:28,lighten:200,src:t.imgUrl}})})),1)]):t._e()},Oe=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"edit-wrapper"},[a("span",{staticClass:"icon-sm icon-edit q-edit"})])}],Me=(a("159b"),a("d81d"),{directives:{focus:W["focus"]},props:{card:{type:Object},list:{type:Object},labelsState:{type:Boolean}},data:function(){return{islabelHover:!1,pos:null,cardToEdit:{title:""},doIconsOverflow:!1}},mounted:function(){},methods:{showDetails:function(){this.$router.push(this.$route.path+"/c/"+this.card.id)},formatDate:function(t){var e=t.getDate(),a="".concat(t).substring(4,7),s="".concat(a," ").concat(e);return s},checkCard:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.card.isComplete=!t.card.isComplete,a=t.card.isComplete?"marked the due date complete on ":"marked the due date not complete on",console.log("activityText",a),s={id:"act"+J.makeId(),txt:a,createdAt:Date.now(),byMember:{imgUrl:t.user.imgUrl?t.user.imgUrl:"",fullname:t.user.fullname,_id:t.user._id},listTitle:t.list.title,card:{id:t.card.id,title:t.card.title}},e.prev=4,e.next=7,t.$store.dispatch({type:"updateCard",boardId:t.boardId,list:JSON.parse(JSON.stringify(t.list)),card:JSON.parse(JSON.stringify(t.card)),activity:s});case 7:e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](4),console.log("cant update card",e.t0);case 12:case"end":return e.stop()}}),e,null,[[4,9]])})))()},onLabelClick:function(){this.$store.commit({type:"toggleLabel",labelsState:this.labelsState})}},computed:{todos:function(){var t=0;return this.card.checklists&&this.card.checklists.length&&this.card.checklists.forEach((function(e){e.todos&&e.todos.length&&e.todos.forEach((function(e){t++}))})),t},user:function(){return this.$store.getters.user},dateClass:function(){if(this.card.dueDate){if(this.card.isComplete)return"done";if(!(+new Date(this.card.dueDate)-Date.now()>864e5))return+new Date(this.card.dueDate)-Date.now()<=0?"over-due":"soon"}},doneTodos:function(){var t=0;return this.card.checklists&&this.card.checklists.length&&this.card.checklists.forEach((function(e){e.todos&&e.todos.length&&e.todos.forEach((function(e){e.isDone&&t++}))})),t},getLabels:function(){var t=this.$store.getters.labels,e=this.card.labelIds;return e.map((function(e){return t.find((function(t){return t.id===e}))}))},setLabelClass:function(){var t="preview-label".concat(this.labelsState?"":"-close");return t},dateToShow:function(){var t=new Date(this.card.dueDate);return(new Date).getYear()===new Date(this.card.dueDate).getYear()?this.formatDate(t):this.formatDate(t)+", "+t.getFullYear()},ChecklistNum:function(){var t=0;return this.card.checklists.forEach((function(e){e.todos.forEach((function(e){e.isDone?t++:undoneTodos++}))})),"".concat(undoneTodos,"/").concat(t)},getCover:function(){if(this.card.style){var t=this.card.style.bgColor;return this.card.style.img?{height:"163.58px",backgroundColor:t,backgroundImage:'url("'.concat(this.card.style.img,'")')}:{backgroundColor:t,height:"32px",minHeight:"32px"}}},boardId:function(){return this.$store.getters.boardId}},components:{Avatar:w.a,Container:Bt["Container"],Draggable:Bt["Draggable"]}}),De=Me,Se=Object(l["a"])(De,Te,Oe,!1,null,null,null),Be=Se.exports,Ie={props:{card:{type:Object},list:{type:Object}},components:{cardPreview:Be,Draggable:Bt["Draggable"]}},Ne=Ie,Re=Object(l["a"])(Ne,Le,Ee,!1,null,null,null),$e=Re.exports,Ue={directives:{focus:W["focus"]},props:{list:{type:Object}},data:function(){return{dragCard:!1,updatedList:null,editTitle:!1,isAddCard:!1,newCardTitle:"",listMenu:!1}},created:function(){this.updatedList=JSON.parse(JSON.stringify(this.list))},methods:{handleBlur:function(t){this.isAddCard&&this.addCard()},addCard:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e.newCardTitle,a){t.next=4;break}return e.isAddCard=!1,t.abrupt("return");case 4:return t.prev=4,e.newCardTitle="",t.next=8,e.$store.dispatch({type:"addCard",board:e.$store.getters.board,list:e.list,title:a});case 8:t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](4),console.log("cant add card",t.t0);case 13:case"end":return t.stop()}}),t,null,[[4,10]])})))()},closeAddCard:function(t){this.newCardTitle="",this.isAddCard=!1,t.target.blur()},updateList:function(){this.editTitle=!1,this.$emit("update",JSON.parse(JSON.stringify(this.updatedList)))},ondragEnd:function(){this.dragCard=!1,this.updateList()},deleteList:function(){this.$emit("deleteList",JSON.parse(JSON.stringify(this.updatedList)))},onCardDrop:function(t,e){var a=e.addedIndex,s=e.removedIndex,n=e.payload;if(null!==t&&(null!==s||null!==a)){var r=this.$store.getters.board,i=r.lists.find((function(e){return e.id===t.id})),o=n;null!==s&&(o=i.cards.splice(s,1)[0]),null!==a&&i.cards.splice(a,0,o),this.$emit("updateBoard",JSON.parse(JSON.stringify(r)))}},getChildPayload:function(t){return function(e){return t.cards[e]}}},computed:{getList:function(){return JSON.parse(JSON.stringify(this.list))},showTitle:function(){return this.list.title?this.list.title:"Enter title"},emptyList:function(){return this.updatedList.cards.length?"smooth-dnd-container ":" smooth-dnd-container empty-list"}},watch:{list:{handler:function(){this.updatedList=JSON.parse(JSON.stringify(this.list))}}},components:{Container:Bt["Container"],Draggable:Bt["Draggable"],cardList:$e}},Pe=Ue,Je=Object(l["a"])(Pe,_e,je,!1,null,null,null),ze=Je.exports,He=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"ws-nav"},[a("div",{staticClass:"nav-container collapsed",class:t.openBar?"hidden":"shown",on:{click:function(e){return t.onOpenBar(!0)}}},[t._m(0)]),a("div",{staticClass:"nav-container expanded",class:t.openBar?"shown":"hidden"},[a("div",{staticClass:"expanded-main"},[a("div",{staticClass:"expanded-header"},[t._m(1),a("span",[t._v("Fellow Workspace")]),a("button",{staticClass:"close-nav",on:{click:function(e){return t.onOpenBar(!1)}}},[a("i",{staticClass:"fas fa-chevron-left"})])]),a("div",{staticClass:"expanded-body"},[a("div",{staticClass:"body-header"},[t._v("Your boards")]),a("div",{staticClass:"body-main"},[a("ul",t._l(t.boards,(function(e){return a("li",{key:e._id},[a("router-link",{attrs:{to:{name:"board",params:{boardId:e._id}}}},[a("div",{staticClass:"small-bg",style:t.styleToShow(e)}),a("p",[t._v(t._s(e.title))]),a("span",{staticClass:"star icon-star",on:{click:function(t){t.stopPropagation(),t.preventDefault()}}})])],1)})),0)])])])])])},Ye=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"collapsed-main"},[a("button",[a("i",{staticClass:"fas fa-chevron-right"})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"workspace-logo-wrapper"},[a("div",{staticClass:"workspace-logo"},[t._v("F")])])}],Ge={data:function(){return{openBar:!1}},methods:{onOpenBar:function(t){this.openBar=t,this.$emit("openBar",t)},styleToShow:function(t){if(t.style)return t.style.imgUrl?{backgroundImage:'url("'.concat(t.style.imgUrl,'")')}:{backgroundColor:t.style.bgColor}}},computed:{boards:function(){return this.$store.getters.boards}}},Fe=Ge,Qe=Object(l["a"])(Fe,He,Ye,!1,null,null,null),qe=Qe.exports,Ze=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.showDashboard?a("section",{staticClass:"dashboard"},[a("span",{staticClass:"icon-md icon-close",on:{click:function(e){return t.$emit("close")}}}),a("h2",[t._v("Dashboard")]),a("section",{staticClass:"chart-wrapper"},[a("activities-chart",{attrs:{stat:t.allActivities,colors:t.colorSet,title:"All activities",fillArea:!0}}),a("activities-chart",{attrs:{stat:t.activitiesStat,colors:t.colorSet,title:"Activities types"}}),a("users-chart",{attrs:{title:"Cards per user"}}),a("cards-chart",{attrs:{stat:t.cardsStat,colors:t.colorSet,title:"Cards per list"}})],1)]):t._e()},Ve=[],Xe=a("1fca"),We={extends:Xe["c"],mounted:function(){this.reRenderChart()},props:{stat:{type:Object},colors:{type:Array},title:{type:String}},methods:{reRenderChart:function(){this.renderChart({labels:this.stat.labels,datasets:[{backgroundColor:this.setColors,label:"Cards per List",borderAlign:"center",borderColor:"#fff5",color:"white",data:this.stat.data}]},{legend:{position:"bottom"},title:{display:!0,text:this.title},responsive:!0})}},computed:{setColors:function(){var t=this,e=this.colors.length;return this.stat.data.map((function(a,s){return t.colors[s%e]}))}},watch:{stat:function(){this.reRenderChart()}}},Ke=We,ta=Object(l["a"])(Ke,re,ie,!1,null,null,null),ea=ta.exports,aa={extends:Xe["b"],mounted:function(){this.reRenderChart()},props:{colors:{type:Array},stat:{type:Object},fillArea:{type:Boolean},title:{type:String}},computed:{setColorLine:function(){var t=this,e=JSON.parse(JSON.stringify(this.stat.data)),a=this.colors.length;return e.forEach((function(e,s){e.borderColor=t.colors[s%a],e.backgroundColor=t.fillArea?e.borderColor+99:"rgb(0,0,0,0)"})),e}},methods:{reRenderChart:function(){this.renderChart({labels:this.stat.labels,datasets:this.setColorLine},{legend:{position:"bottom",labels:{defaultFontSize:8}},title:{display:!0,text:this.title},responsive:!0})}},watch:{stat:function(){this.reRenderChart()}}},sa=aa,na=Object(l["a"])(sa,oe,ce,!1,null,null,null),ra=na.exports,ia=a("ade3"),oa={extends:Xe["a"],mounted:function(){var t;this.renderChart({labels:["Osher Cappelli","Oshra Hartuv","Adam Bercovich","Jojo Gonzalis","Shuki Ben David"],datasets:[{label:"Cards per user",backgroundColor:["#548EEB","#738AAE","#39609E","#9BB9EB","#27416B"],data:[23,15,22,43,4]}]},(t={legend:{position:"bottom"},title:{display:!0,text:this.title}},Object(ia["a"])(t,"title",{display:!0,text:this.title}),Object(ia["a"])(t,"responsive",!0),t))},props:{board:{type:Object},title:{type:String}},methods:{prepareLabels:function(){return this.board.lists.map((function(t){return t.title}))},prepareData:function(){return this.board.lists.map((function(t){return t.cards.length}))}}},ca=oa,la=Object(l["a"])(ca,le,ue,!1,null,null,null),ua=la.exports,da={props:{board:{type:Object},showDashboard:{type:Boolean}},data:function(){return{colorSet:["#548EEB","#3E67AB","#27416B","#4B7FC5","#4D49AB","#302E6B","#6965EB","#5996F7","#6F6AF7","#5E59D1"],intervalId1:null,intervalId2:null,statistics:[]}},created:function(){var t=this,e=0;this.intervalId1=setInterval((function(){e+=5,t.getStat(e)}),5e3),this.intervalId2=setInterval((function(){t.$store.dispatch({type:"updateStat"})}),1e3)},destroyed:function(){clearInterval(this.intervalId1),clearInterval(this.intervalId2)},methods:{getStat:function(t){var e={snapShot:[],status:[]};e.snapShot=t,e.status=this.$store.getters.getStatistics,this.statistics.push(e),this.statistics.length>20&&this.statistics.shift()}},computed:{cardsStat:function(){var t={labels:[],data:[]};return t.labels=this.board.lists.map((function(t){return t.title})),t.data=this.board.lists.map((function(t){return t.cards.length})),t},activitiesStat:function(){var t={labels:[],data:[]};return t.labels=this.statistics.map((function(t){return t.snapShot})),t.data[0]={label:"Removed",data:this.statistics.map((function(t){return t.status.removed}))},t.data[1]={label:"Created",data:this.statistics.map((function(t){return t.status.created}))},t.data[2]={label:"Refresh",data:this.statistics.map((function(t){return t.status.refresh}))},t.data[3]={label:"Updated",data:this.statistics.map((function(t){return t.status.updated}))},t},allActivities:function(){var t={labels:[],data:[]};return t.labels=this.statistics.map((function(t){return t.snapShot})),t.data=[{label:"activity",data:this.statistics.map((function(t){return t.status.total}))}],t}},components:{cardsChart:ea,activitiesChart:ra,usersChart:ua}},pa=da,ha=Object(l["a"])(pa,Ze,Ve,!1,null,null,null),ma=ha.exports,fa=a("daa8"),va="board updated",ga="",ba=wa();function wa(){var t=null,e={setup:function(){return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=Object(fa["a"])(ga);case 1:case"end":return e.stop()}}),e)})))()},on:function(e,a){t.on(e,a)},off:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t&&(a?t.off(e,a):t.removeAllListeners(e))},emit:function(e,a){t.emit(e,a)},terminate:function(){t=null}};return e}ba.setup();var Ca={directives:{focus:W["focus"]},data:function(){return{selectedCardId:null,slider:null,isAddList:!1,newListTitle:"",openBar:!1,onAddBoard:!1,showDashboard:!1}},watch:{"$route.params.cardId":{handler:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.$route.params.cardId,s=t.$route.params.boardId,!a){e.next=14;break}return e.prev=3,e.next=6,t.$store.dispatch({type:"setListAndCard",boardId:s,cardId:a});case 6:t.selectedCardId=a,e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](3),console.log("problem with getting board",e.t0);case 12:e.next=23;break;case 14:return e.prev=14,e.next=17,t.$store.dispatch({type:"setListAndCard",boardId:"",cardId:""});case 17:t.selectedCardId=null,e.next=23;break;case 20:e.prev=20,e.t1=e["catch"](14),console.log("problem with getting board",e.t1);case 23:case"end":return e.stop()}}),e,null,[[3,9],[14,20]])})))()},immediate:!0},"$route.params.boardId":{handler:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.$route.params.boardId,e.prev=1,e.next=4,t.$store.dispatch({type:"loadBoard",boardId:a});case 4:ba.emit("board new-enter",a),t.scroll(),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),console.log("problem with getting board",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))()},immediate:!0}},created:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.$route.params.boardId,e.prev=1,e.next=4,t.$store.dispatch({type:"loadBoard",boardId:a});case 4:return e.next=6,t.$store.dispatch({type:"loadBoards"});case 6:ba.on("board pushed",t.pushedBoard),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](1),console.log("problem with getting board",e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))()},destroyed:function(){ba.off("board pushed")},computed:{board:function(){return this.$store.getters.board},addListText:function(){return this.board.lists&&this.board.lists.length?"Add another list":"Add a list"},boards:function(){return this.$store.getters.boards}},methods:{pushedBoard:function(t){var e=this.$store.getters.getLastUpdateTime,a=t.activities[0].createdAt>e;this.$store.dispatch({type:"pushedBoard",board:t,haveUpdate:a})},setAddList:function(){this.isAddList=!0},addList:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.newListTitle,a){e.next=4;break}return t.isAddList=!1,e.abrupt("return");case 4:return e.prev=4,t.newListTitle="",e.next=8,t.$store.dispatch({type:"addList",title:a,board:t.board});case 8:e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](4),console.log("cant add list",e.t0);case 13:case"end":return e.stop()}}),e,null,[[4,10]])})))()},updateList:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,e.$store.dispatch({type:"updateList",list:t,board:e.board});case 3:a.next=8;break;case 5:a.prev=5,a.t0=a["catch"](0),console.log("cant update list",a.t0);case 8:case"end":return a.stop()}}),a,null,[[0,5]])})))()},deleteList:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,e.$store.dispatch({type:"deleteList",list:t,board:e.board});case 3:a.next=8;break;case 5:a.prev=5,a.t0=a["catch"](0),console.log("cant delete list",a.t0);case 8:case"end":return a.stop()}}),a,null,[[0,5]])})))()},updateBoard:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:try{e.$store.dispatch({type:"updateBoard",board:t})}catch(s){console.log("cant update board",s)}case 1:case"end":return a.stop()}}),a)})))()},deleteBoard:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$store.dispatch({type:"deleteBoard",boardId:t.board._id});case 3:t.$router.push("/home"),e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),console.log("cant delete board",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))()},scroll:function(){var t,e,a=this.$refs.board.firstChild,s=!1;a.addEventListener("mousedown",(function(n){n.path.length>10||(s=!0,a.classList.add("active"),t=n.pageX-a.offsetLeft,e=a.scrollLeft)})),a.addEventListener("mouseleave",(function(){s=!1,a.classList.remove("active")})),a.addEventListener("mouseup",(function(){s=!1,a.classList.remove("active")})),a.addEventListener("mousemove",(function(n){if(s){n.preventDefault();var r=n.pageX-a.offsetLeft,i=2*(r-t);a.scrollLeft=e-i}})),a.addEventListener("touchstart",(function(n){n.path.length>10||(s=!0,a.classList.add("active"),t=n.touches[0].pageX-a.offsetLeft,e=a.scrollLeft)})),a.addEventListener("touchend",(function(){s=!1,a.classList.remove("active")})),a.addEventListener("touchmove",(function(n){if(!(n.path.length>10)&&s){n.preventDefault();var r=n.touches[0].pageX-a.offsetLeft,i=2*(t-r);a.scrollLeft=e+i}}))},onColumnDrop:function(t){var e=t.removedIndex,a=t.addedIndex,s=t.payload,n=this.$store.getters.board;if(null===e&&null===a)return n.lists;Object(At["a"])(this.board.lists);var r=s;return null!==e&&(r=n.lists.splice(e,1)[0]),null!==a&&n.lists.splice(a,0,r),this.updateBoard(n),n.lists},applyDrag:function(t,e){},onOpenBar:function(t){this.openBar=t}},components:{boardHeader:be,boardMenu:Ae,mainMenu:St,boardList:ze,workspaceNav:qe,focus:W["focus"],Container:Bt["Container"],Draggable:Bt["Draggable"],appHeader:it,dashBoard:ma,addBoard:at}},ya=Ca,ka=Object(l["a"])(ya,kt,xt,!1,null,null,null),xa=ka.exports,Aa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.list&&t.cardToEdit?a("div",{staticClass:"card-details-container",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.closeModal.apply(null,arguments)}}},[a("div",{staticClass:"card-details",on:{click:function(t){t.stopPropagation()}}},[a("button",{staticClass:"close",on:{click:function(e){return e.stopPropagation(),t.closeModal.apply(null,arguments)}}},[a("span",{staticClass:"icon-md icon-close"})]),t.cardToEdit.style?a("div",{staticClass:"cover-wrapper",style:t.coverStyle},[a("section",{staticClass:"cover-menu-header"},[a("button",{staticClass:"cover-menu-btn",class:{"light-btn":t.cardToEdit.style.isDark,"dark-btn":!t.cardToEdit.style.isDark},on:{click:function(e){e.stopPropagation(),t.showCoverMenu=!t.showCoverMenu}}},[a("span",{staticClass:"icon-sm icon-cover",style:{color:t.textColor}}),t._v(" Cover ")]),t.showCoverMenu?a("cover",{staticClass:"top-cover",attrs:{card:t.cardToEdit},on:{makeCover:t.makeCover,removeCover:t.removeCover,closeCover:function(e){t.showCoverMenu=!1}}}):t._e()],1)]):t._e(),a("header",[a("div",{staticClass:"header"},[a("span",{staticClass:"icon-card icon-lg"}),a("div",{staticClass:"card-header-container"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.cardToEdit.title,expression:"cardToEdit.title"}],attrs:{rows:"",contenteditable:"true"},domProps:{value:t.cardToEdit.title},on:{blur:t.updateCard,keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.updateCard.apply(null,arguments))},input:function(e){e.target.composing||t.$set(t.cardToEdit,"title",e.target.value)}}}),t._v(" "),a("h5",[t._v(" in list "),a("span",[t._v(t._s(t.list.title))])]),a("span",{directives:[{name:"show",rawName:"v-show",value:t.card.isWatch,expression:"card.isWatch"}],staticClass:"icon-sm icon-watch"})])])]),a("div",{staticClass:"card-body"},[a("div",{staticClass:"main-details"},[a("div",{staticClass:"icon-header"},[a("div",{staticClass:"detail-labels"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.cardToEdit.members.length>0,expression:"cardToEdit.members.length > 0"}],staticClass:"card-members card-labels"},[a("h4",[t._v("Members")]),a("span",{staticClass:"label-wrapper",on:{click:function(e){t.showMembers=!t.showMembers}}},[t._l(t.cardToEdit.members,(function(t){return a("avatar",{key:t.id,staticClass:"member-avatar",attrs:{username:t.fullname,size:32,lighten:200,src:t.imgUrl}})})),a("button",{directives:[{name:"show",rawName:"v-show",value:t.cardToEdit.members.length>0,expression:"cardToEdit.members.length > 0"}],staticClass:"action-btn round"},[a("span",{staticClass:"icon-sm icon-plus"})])],2)]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.getLabels.length>0,expression:"getLabels.length > 0"}],staticClass:"card-labels"},[a("h4",[t._v("Labels")]),a("span",{staticClass:"label-wrapper",on:{click:function(e){t.showLabels=!t.showLabels}}},[t._l(t.getLabels,(function(e){return a("button",{key:e.id,staticClass:"label-tag white-text",class:e.colorClass},[t._v(t._s(e.txt))])})),a("button",{directives:[{name:"show",rawName:"v-show",value:t.getLabels.length>0,expression:"getLabels.length > 0"}],staticClass:"action-btn"},[a("span",{staticClass:"icon-sm icon-plus"})])],2)]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.cardToEdit.dueDate,expression:"cardToEdit.dueDate"}],staticClass:"due-date"},[a("h3",[t._v("Due date")]),a("div",{staticClass:"due-date-body"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.cardToEdit.isComplete,expression:"cardToEdit.isComplete"}],attrs:{id:"cb",type:"checkbox"},domProps:{checked:Array.isArray(t.cardToEdit.isComplete)?t._i(t.cardToEdit.isComplete,null)>-1:t.cardToEdit.isComplete},on:{change:[function(e){var a=t.cardToEdit.isComplete,s=e.target,n=!!s.checked;if(Array.isArray(a)){var r=null,i=t._i(a,r);s.checked?i<0&&t.$set(t.cardToEdit,"isComplete",a.concat([r])):i>-1&&t.$set(t.cardToEdit,"isComplete",a.slice(0,i).concat(a.slice(i+1)))}else t.$set(t.cardToEdit,"isComplete",n)},t.updateDueDate]}}),a("label",{attrs:{for:"cb"}}),a("div",{staticClass:"relative-date"},[a("date",{staticClass:"date",attrs:{cardDate:t.cardToEdit.dueDate,cardToEdit:t.cardToEdit,datePlaceholder:t.dateToShow},on:{updateDate:t.updateDate}})],1)])])])]),a("div",{staticClass:"description"},[a("span",{staticClass:"card-details-icon icon-lg"}),a("div",[a("div",{staticClass:"content"},[a("h3",[t._v("Description")]),a("button",{directives:[{name:"show",rawName:"v-show",value:t.cardToEdit.description&&!t.isEditDesc,expression:"cardToEdit.description && !isEditDesc"}],staticClass:"action-btn",on:{click:function(e){return e.stopPropagation(),t.setFocus.apply(null,arguments)}}},[t._v("Edit")])])]),a("form",{on:{submit:function(e){return e.preventDefault(),t.updateDesc.apply(null,arguments)}}},[a("div",{ref:"desc",staticClass:"desc action-btn",attrs:{contenteditable:"true",placeholder:"Add a more detailed description..."},on:{focus:t.setEditDesc}}),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isEditDesc,expression:"isEditDesc"}],staticClass:"buttons"},[a("button",{staticClass:"submit-btn",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.updateDesc.apply(null,arguments)}}},[t._v("Save")]),a("span",{staticClass:"icon-lg icon-close",on:{click:function(e){return e.stopPropagation(),t.undoDesc.apply(null,arguments)}}})])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.cardToEdit.attachments&&t.cardToEdit.attachments.length,expression:"cardToEdit.attachments && cardToEdit.attachments.length"}],staticClass:"attachments"},[t._m(0),t._l(t.cardToEdit.attachments,(function(e){return a("div",{key:e.id},[a("attachment",{attrs:{attachment:e,cardToEdit:t.cardToEdit},on:{makeCover:t.makeCover,removeCover:t.removeCover,deleteAttach:t.deleteAttach,openEdit:t.openEdit}})],1)})),a("section",{directives:[{name:"show",rawName:"v-show",value:t.openEditAttach,expression:"openEditAttach"}],staticClass:"card-popup"},[a("section",{staticClass:"popup-header"},[a("div",[a("span",{staticClass:"close-popup icon-md icon-close",on:{click:function(e){e.stopPropagation(),t.openEditAttach=!1}}})]),a("h4",[t._v("Edit")])]),a("form",{on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.updateAttach.apply(null,arguments)}}},[a("label",[t._v("Link name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.attachToEdit.name,expression:"attachToEdit.name"}],attrs:{type:"text"},domProps:{value:t.attachToEdit.name},on:{focus:function(t){return t.target.select()},input:function(e){e.target.composing||t.$set(t.attachToEdit,"name",e.target.value)}}}),a("button",{staticClass:"submit"},[t._v("Update")])])])],2),t._l(t.cardToEdit.checklists,(function(e){return a("div",{key:e.id,staticClass:"check-list"},[a("span",{staticClass:"card-details-icon icon-lg"}),a("checklist",{attrs:{checklist:e},on:{updateCL:t.updateCL}})],1)})),a("div",{staticClass:"activity-log"},[a("span",{staticClass:"icon-lg icon-activity"}),a("section",{staticClass:"activity-header"},[a("h3",[t._v("Activity")]),a("button",{staticClass:"action-btn",on:{click:function(e){t.showActivities=!t.showActivities}}},[t._v(t._s(t.showActivities?"Hide details":"Show details"))])]),a("div",{staticClass:"comment-box",on:{click:function(e){t.isComment=!0}}},[a("button",{staticClass:"submit-btn"},[t._v("save")]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showActivities,expression:"showActivities"}],staticClass:"log"},t._l(t.activitiesToShow,(function(t,e){return a("div",{key:t.id,staticClass:"activity-item"},[a("activity-item",{attrs:{activity:t,idx:e,inCard:!0}})],1)})),0)])])],2),a("div",{staticClass:"side-menu"},[a("button",{directives:[{name:"show",rawName:"v-show",value:!t.checkJoined,expression:"!checkJoined"}],staticClass:"action-btn",attrs:{title:"Join to this card"},on:{click:t.joinCard}},[a("span",{staticClass:"icon-sm icon-member"}),t._v("Join ")]),a("h3",[t._v("Add to card")]),a("section",{staticClass:"btn-group"},[a("section",{staticClass:"relative-btn"},[a("button",{staticClass:"action-btn",attrs:{title:"Members"},on:{click:function(e){e.stopPropagation(),t.showMembers=!t.showMembers}}},[a("span",{staticClass:"icon-sm icon-member"}),t._v("Members ")]),a("section",{staticClass:"relative-btn"},[t.showMembers?a("card-members",{attrs:{cardMembers:t.cardToEdit.members},on:{close:function(e){t.showMembers=!t.showMembers},update:t.updateMembers}}):t._e()],1)]),a("section",{staticClass:"relative-btn"},[a("button",{staticClass:"action-btn",on:{click:function(e){return e.stopPropagation(),t.toggleLabels.apply(null,arguments)}}},[t._m(1)])]),a("card-labels",{directives:[{name:"show",rawName:"v-show",value:t.showLabels,expression:"showLabels"}],attrs:{cardLabels:t.cardToEdit.labelIds},on:{close:t.toggleLabels,update:t.updateLabels}}),a("section",{staticClass:"relative-btn"},[a("button",{on:{click:function(e){e.stopPropagation(),t.openCheckList=!t.openCheckList}}},[t._m(2)]),a("section",{directives:[{name:"show",rawName:"v-show",value:t.openCheckList,expression:"openCheckList"}],staticClass:"card-popup checklist-popup"},[a("section",{staticClass:"popup-header"},[a("div",{on:{click:function(e){e.stopPropagation(),t.openCheckList=!1}}},[a("span",{staticClass:"close-popup icon-md icon-close"})]),a("h4",[t._v("Add checklist")])]),a("form",{on:{submit:function(e){return e.preventDefault(),t.addCheckList.apply(null,arguments)}}},[a("label",[t._v("Title")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newChecklist.title,expression:"newChecklist.title"}],attrs:{type:"text",value:"Checklist"},domProps:{value:t.newChecklist.title},on:{focus:function(t){return t.target.select()},input:function(e){e.target.composing||t.$set(t.newChecklist,"title",e.target.value)}}}),a("label",[t._v("Copy items from...")]),t._m(3),a("button",{staticClass:"submit"},[t._v("Add")])])])]),a("date",{staticClass:"date",attrs:{cardDate:t.cardToEdit.dueDate,datePlaceholder:"Dates"},on:{updateDate:t.updateDate}}),a("section",{staticClass:"relative-btn"},[a("button",{on:{click:function(e){e.stopPropagation(),t.openAddAttach=!t.openAddAttach}}},[t._m(4)]),a("add-attachment",{directives:[{name:"show",rawName:"v-show",value:t.openAddAttach,expression:"openAddAttach"}],on:{addNewAttach:t.addNewAttach,close:function(e){t.openAddAttach=!1}}})],1),a("section",{directives:[{name:"show",rawName:"v-show",value:!t.card.style,expression:"!card.style"}],staticClass:"relative-btn cover-menu-header"},[a("button",{staticClass:"cover-menu-btn action-btn",on:{click:function(e){e.stopPropagation(),t.showCoverMenu=!t.showCoverMenu}}},[a("span",{staticClass:"icon-sm icon-cover"}),t._v("Cover ")]),t.showCoverMenu?a("cover",{attrs:{card:t.cardToEdit},on:{makeCover:t.makeCover,removeCover:t.removeCover,closeCover:function(e){t.showCoverMenu=!1}}}):t._e()],1)],1),a("section",{staticClass:"actions"},[a("h3",[t._v("Actions")]),t._m(5),t._m(6),t._m(7),t._m(8),a("hr"),a("button",{staticClass:"cover action-btn",on:{click:t.removeCard}},[a("span",{staticClass:"icon-sm icon-archive"}),t._v("Archive ")]),t._m(9)])])])])]):t._e()},_a=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"attach-header"},[a("span",{staticClass:"icon-attach icon-lg"}),a("h3",[t._v("Attachments")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[a("span",{staticClass:"icon-sm icon-label"}),t._v("Labels ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"action-btn"},[a("span",{staticClass:"icon-sm icon-checklist"}),a("span",[t._v("Checklist")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("select",{staticClass:"not-yet",attrs:{name:"",id:""}},[a("option",{attrs:{value:""}},[t._v("(none)")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"action-btn"},[a("span",{staticClass:"icon-sm icon-attach"}),t._v("Attachments ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"cover action-btn not-yet",attrs:{title:"Not yet developed"}},[a("span",{staticClass:"icon-sm icon-move"}),t._v("Move ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"cover action-btn not-yet",attrs:{title:"Not yet developed"}},[a("span",{staticClass:"icon-sm icon-copy"}),t._v("Copy ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"cover action-btn not-yet",attrs:{title:"Not yet developed"}},[a("span",{staticClass:"icon-sm icon-template"}),t._v("Make template ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"cover action-btn not-yet",attrs:{title:"Not yet developed"}},[a("span",{staticClass:"icon-sm icon-watch"}),t._v("Watch ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"cover action-btn not-yet",attrs:{title:"Not yet developed"}},[a("span",{staticClass:"icon-sm icon-share"}),t._v("Share ")])}],ja=(a("a4d3"),a("e01a"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"card-popup label-popup"},[a("section",{directives:[{name:"show",rawName:"v-show",value:!t.isEditLabel&&!t.isNewLabel,expression:"!isEditLabel && !isNewLabel"}]},[a("header",{staticClass:"popup-header"},[a("h4",[t._v("Labels")]),a("div",{on:{click:t.onClose}},[a("span",{staticClass:"close-popup icon-md icon-close"})])]),a("input",{attrs:{type:"text",placeholder:"Search labels..."}}),a("h5",[t._v("Labels")]),t._l(t.allLabels,(function(e,s){return a("section",{key:e.id,staticClass:"label-container",on:{change:function(a){return t.toggleCheck(e.id,s)}}},[a("label",{staticClass:"label-picker"},[a("div",{class:t.setColor(e.colorClass)},[a("span",{staticClass:"label-name"},[t._v(t._s(e.txt))]),a("input",{attrs:{type:"checkbox"},domProps:{checked:t.checkLabel(e.id)}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.checkLabel(e.id),expression:"checkLabel(label.id)"}],staticClass:"label-check icon-sm icon-check"})])]),a("span",{staticClass:"edit-btn icon-sm icon-edit",on:{click:function(a){return a.stopPropagation(),t.editLabel(e)}}})])})),a("button",{staticClass:"action-btn",on:{click:function(e){t.isNewLabel=!0}}},[t._v("Create a new label")])],2),a("section",{directives:[{name:"show",rawName:"v-show",value:t.isEditLabel||t.isNewLabel,expression:"isEditLabel || isNewLabel"}],staticClass:"edit-label"},[a("header",{staticClass:"popup-header"},[a("h4",[t._v(t._s(t.title))]),a("div",{on:{click:t.onClose}},[a("span",{staticClass:"close-popup icon-md icon-close"}),a("span",{staticClass:"back-popup icon-sm icon-back",on:{click:function(e){return e.stopPropagation(),t.goBack.apply(null,arguments)}}})])]),a("h5",[t._v("Name")]),a("form",{on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.formAction()}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.labelOnEdit.txt,expression:"labelOnEdit.txt"}],attrs:{type:"text"},domProps:{value:t.labelOnEdit.txt},on:{input:function(e){e.target.composing||t.$set(t.labelOnEdit,"txt",e.target.value)}}})]),a("h5",[t._v("Select a color")]),a("div",{staticClass:"color-selectors"},t._l(t.colorSet,(function(e){return a("section",{key:e,class:e},[a("label",{staticClass:"label-picker"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.labelOnEdit.colorClass,expression:"labelOnEdit.colorClass"}],attrs:{type:"radio"},domProps:{value:e,checked:t._q(t.labelOnEdit.colorClass,e)},on:{change:function(a){return t.$set(t.labelOnEdit,"colorClass",e)}}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.labelOnEdit.colorClass===e,expression:"labelOnEdit.colorClass === color"}],staticClass:"label-check icon-sm icon-check"})])])})),0),a("div",{staticClass:"label-popup-btn"},[t.isEditLabel?a("button",{staticClass:"submit-accept label-popup-submit",on:{click:t.updateLabel}},[t._v("Save")]):t._e(),t.isEditLabel?a("button",{staticClass:"submit-delete label-popup-submit",on:{click:t.deleteLabel}},[t._v("Delete")]):t._e()]),t.isNewLabel?a("button",{staticClass:"action-btn",on:{click:t.createLabel}},[t._v("Create")]):t._e()])])}),La=[],Ea={props:{cardLabels:{type:Array}},data:function(){return{cardLabelsIds:JSON.parse(JSON.stringify(this.cardLabels)),allLabels:this.$store.getters.labels,isEditLabel:!1,isNewLabel:!1,labelOnEdit:{txt:"",colorClass:"label-green"},colorSelect:"label-green",colorSet:["label-green","label-yellow","label-orange","label-red","label-purple","label-blue","label-lightblue","label-lightgreen","label-pink","label-darkblue"]}},methods:{updateLabel:function(){var t=this,e=this.$store.getters.board,a=this.allLabels.findIndex((function(e){return e.id===t.labelOnEdit.id}));this.allLabels.splice(a,1,JSON.parse(JSON.stringify(this.labelOnEdit))),e.labels=JSON.parse(JSON.stringify(this.allLabels)),this.$store.dispatch({type:"updateBoard",board:e}),this.labelOnEdit=this.emptyLabel(),this.isEditLabel=!1},createLabel:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.$store.getters.board,e.prev=1,t.isNewLabel=!1,e.next=5,t.$store.dispatch({type:"createLabel",board:a,label:JSON.parse(JSON.stringify(t.labelOnEdit))});case 5:t.allLabels=t.$store.getters.labels,t.isNewLabel=!1,t.labelOnEdit=t.emptyLabel(),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](1),console.log("failed to create Label");case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))()},deleteLabel:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,a=t.$store.getters.board,s=t.allLabels.findIndex((function(e){return e.id===t.labelOnEdit.id})),t.allLabels.splice(s,1),a.labels=JSON.parse(JSON.stringify(t.allLabels)),a.lists.forEach((function(e){e.cards.forEach((function(e){e.labelIds=e.labelIds.filter((function(e){return e!==t.labelOnEdit.id}))}))})),e.next=8,t.$store.dispatch({type:"updateBoard",board:JSON.parse(JSON.stringify(a))});case 8:t.isEditLabel=!1,t.labelOnEdit=t.emptyLabel(),e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](0),console.log("cant delete label");case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))()},checkLabel:function(t){return 0<=this.cardLabelsIds.findIndex((function(e){return e===t}))},toggleCheck:function(t,e){var a=this.cardLabelsIds.findIndex((function(e){return e===t}));0<=a?this.cardLabelsIds.splice(a,1):this.cardLabelsIds.splice(e,0,t),this.$emit("update",JSON.parse(JSON.stringify(this.cardLabelsIds)))},setColor:function(t){return"".concat(t," ").concat(t,"-lg")},editLabel:function(t){this.isEditLabel=!0,this.labelOnEdit=t},emptyLabel:function(){return{txt:"",colorClass:"label-green"}},formAction:function(){return this.isNewLabel?this.createLabel():this.updateLabel()},goBack:function(){this.isEditLabel=!1,this.isNewLabel=!1,this.labelOnEdit=this.emptyLabel()},onClose:function(){this.goBack(),this.$emit("close")}},computed:{title:function(){return this.isNewLabel?"Create Label":"Change label"}}},Ta=Ea,Oa=Object(l["a"])(Ta,ja,La,!1,null,null,null),Ma=Oa.exports,Da=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.cardMembers?a("section",{staticClass:"card-popup members-popup"},[a("header",{staticClass:"popup-header"},[a("h4",[t._v("Members")]),a("div",{on:{click:function(e){return t.$emit("close")}}},[a("span",{staticClass:"close-popup icon-md icon-close"})])]),a("input",{attrs:{type:"text",placeholder:"Search members"}}),a("form",{on:{submit:function(t){t.preventDefault()}}},[a("h5",[t._v("Board members")]),a("ul",t._l(t.membersToShow,(function(e){return a("li",{key:e.id,staticClass:"item js-member-item active selected",on:{click:function(a){return t.toggleMember(e)}}},[a("a",{staticClass:"name js-select-member member-container",attrs:{href:"#",memberId:e._id,title:e.fullname+" ("+e.username+")",autocompletetext:e.username}},[a("p",{staticClass:"member js-member member-icon"},[a("avatar",{attrs:{username:e.fullname,size:32,lighten:200,src:e.imgUrl}})],1),a("p",{staticClass:"full-name",attrs:{name:e.fullname+" ("+e.username+")"}},[t._v(" "+t._s(e.fullname)+" ")]),a("p",{staticClass:"username"},[t._v("("+t._s(e.username)+")")]),a("span",{staticClass:"icon-sm icon-check checked-icon",style:{display:t.checkMember(e._id)?"block":"none"}})])])})),0)])]):t._e()},Sa=[],Ba={props:{cardMembers:{type:Array}},data:function(){return{selectedMembers:JSON.parse(JSON.stringify(this.cardMembers)),allMembers:this.$store.getters.board.members}},methods:{checkMember:function(t){if(this.$store.getters.card)return this.$store.getters.card.members.find((function(e){return e._id===t}))},toggleMember:function(t){if(this.checkMember(t._id)){var e=this.selectedMembers.findIndex((function(e){return e._id===t._id}));this.selectedMembers.splice(e,1)}else this.selectedMembers.push(t);this.$emit("update",JSON.parse(JSON.stringify(this.selectedMembers)))}},computed:{membersToShow:function(){var t=JSON.parse(JSON.stringify(this.allMembers)),e=this.$store.getters.user,a=t.findIndex((function(t){return t._id===e._id}));return t.splice(a,1),t.unshift(e),t}},components:{Avatar:w.a}},Ia=Ba,Na=Object(l["a"])(Ia,Da,Sa,!1,null,null,null),Ra=Na.exports,$a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"date-cmp action-btn"},[a("date-picker",{ref:"date",staticClass:"custom-input",class:{long:"Dates"!==t.datePlaceholder},attrs:{placeholder:t.datePlaceholder,locale:"en",type:"datetime","label-class":"icon-sm icon-clock",format:"YYYY-MM-DD HH:mm:ss",color:"#0079bf",value:""},on:{input:t.updateDate},model:{value:t.newDate,callback:function(e){t.newDate=e},expression:"newDate"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.cardToEdit&&!t.cardToEdit.isComplete&&+new Date(t.cardToEdit.dueDate)-Date.now()<=864e5,expression:"cardToEdit &&!cardToEdit.isComplete &&\n    +new Date(cardToEdit.dueDate) - Date.now() <= 86400000\n    "}],staticClass:"time-label",class:t.timeLabelColor},[t._v(t._s(t.timeLabel))]),a("span",{directives:[{name:"show",rawName:"v-show",value:t.cardToEdit&&t.cardToEdit.isComplete,expression:"cardToEdit &&cardToEdit.isComplete"}],staticClass:"time-label complete"},[t._v("complete")])],1)},Ua=[],Pa={props:{cardToEdit:{type:Object},cardDate:{type:[String,Date]},datePlaceholder:{type:String}},data:function(){return{newDate:""}},created:function(){},methods:{updateDate:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$emit("updateDate",t.newDate);case 3:t.newDate="",e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),console.log("update date in date err",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))()}},computed:{timeLabelColor:function(){if(this.cardToEdit)return+new Date(this.cardToEdit.dueDate)-Date.now()<=0?"over-due":"due-soon"},timeLabel:function(){if(this.cardToEdit)return+new Date(this.cardToEdit.dueDate)-Date.now()<=0?"over due":"due soon"}}},Ja=Pa,za=Object(l["a"])(Ja,$a,Ua,!1,null,null,null),Ha=za.exports,Ya=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"card-popup attachment-popup"},[s("section",{staticClass:"popup-header"},[s("div",{on:{click:function(e){return e.stopPropagation(),t.close.apply(null,arguments)}}},[s("span",{staticClass:"close-popup icon-md icon-close"})]),s("h4",[t._v("Attach from...")])]),s("form",{on:{submit:function(e){return e.preventDefault(),t.addAttach.apply(null,arguments)}}},[s("label",{staticClass:"img-upload-container"},[t._v(" Computer "),s("div",[t.isLoading?s("div",{staticClass:"loader"},[s("img",{attrs:{src:a("281f"),alt:""}})]):s("label",{staticClass:"clickable add-img"},[s("input",{attrs:{type:"file",id:"uploadImg",hidden:""},on:{change:t.onUploadImg}})])])]),t.isLoading?t._e():s("label",[t._v("Attach a link")]),t.isLoading?t._e():s("input",{directives:[{name:"model",rawName:"v-model",value:t.newAttach.href,expression:"newAttach.href"}],attrs:{type:"text"},domProps:{value:t.newAttach.href},on:{input:function(e){e.target.composing||t.$set(t.newAttach,"href",e.target.value)}}}),s("label",{directives:[{name:"show",rawName:"v-show",value:t.newAttach.href,expression:"newAttach.href"}]},[t._v("Link name (optional)")]),s("input",{directives:[{name:"show",rawName:"v-show",value:t.newAttach.href,expression:"newAttach.href"},{name:"model",rawName:"v-model",value:t.newAttach.name,expression:"newAttach.name"}],attrs:{type:"text"},domProps:{value:t.newAttach.name},on:{input:function(e){e.target.composing||t.$set(t.newAttach,"name",e.target.value)}}}),s("button",{staticClass:"submit"},[t._v("Add")])])])},Ga=[],Fa=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"img-upload-container"},[t.isLoading?s("img",{attrs:{src:a("281f"),alt:""}}):s("label",{staticClass:"clickable add-img"},[s("input",{attrs:{type:"file",id:"uploadImg",hidden:""},on:{change:t.onUploadImg}})])])},Qa=[],qa=function(t){var e="jjyguy2o",a="oshra",s="https://api.cloudinary.com/v1_1/".concat(a,"/image/upload"),n=new FormData;return n.append("file",t.target.files[0]),n.append("upload_preset",e),fetch(s,{method:"POST",body:n}).then((function(t){return t.json()})).then((function(t){return t})).catch((function(t){return console.error(t)}))},Za={data:function(){return{isLoading:!1}},methods:{onUploadImg:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.isLoading=!0,a.next=3,qa(t);case 3:s=a.sent,e.$emit("onSaveImg",s.url),e.isLoading=!1;case 6:case"end":return a.stop()}}),a)})))()}}},Va=Za,Xa=Object(l["a"])(Va,Fa,Qa,!1,null,null,null),Wa=Xa.exports,Ka={data:function(){return{newAttach:{name:"",href:"",file:null,createdAt:"",type:""},isLoading:!1}},methods:{onUploadImg:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.isLoading=!0,a.prev=1,a.next=4,qa(t);case 4:s=a.sent,e.newAttach.href=s.url,e.newAttach.type="img",e.isLoading=!1,a.next=13;break;case 10:a.prev=10,a.t0=a["catch"](1),console.log("cant upload img".err);case 13:case"end":return a.stop()}}),a,null,[[1,10]])})))()},close:function(){this.$emit("close")},addAttach:function(){this.newAttach.href&&!this.newAttach.type&&(this.newAttach.type="link"),this.newAttach.type&&(this.newAttach.createdAt=Date.now(),this.$emit("addNewAttach",this.newAttach),this.resetAttach())},handleFileUpload:function(){var t=this.$refs.file.files[0];this.newAttach.type=t.type,this.newAttach.file=t,this.newAttach.name=t.name,this.$emit("addNewAttach",this.newAttach),this.resetAttach()},resetAttach:function(){this.newAttach=Object(ia["a"])({name:"",href:"",file:null,createdAt:"",type:""},"file",null)}},components:{imgUpload:Wa}},ts=Ka,es=Object(l["a"])(ts,Ya,Ga,!1,null,null,null),as=es.exports,ss=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"attachment-list",attrs:{target:"_blank"},on:{click:t.openLink}},[a("a",{staticClass:"attach-photo",style:t.bgImg},[a("span",{staticClass:"icon",class:{"attach-icon":"img"!==t.attachment.type&&!t.typeToShow}},[t._v(t._s(t.typeToShow))])]),a("p",{staticClass:"attachment-details"},[a("span",[t.attachment.href?a("span",{staticClass:"name"},[t._v(t._s(t.attachment.name||t.attachment.href))]):t._e()]),a("a",{staticClass:"attach-open",attrs:{target:"_blank"},on:{click:t.openLink}},[a("span",{staticClass:"icon-sm icon-external"})]),a("span",{staticClass:"info-wrapper"},[a("span",{staticClass:"info"},[a("span",[t._v(" Added "),a("span",{staticClass:"time-past"},[t._v(t._s(t.timeSince))])])]),t._m(0),a("a",{staticClass:"delete options",on:{click:function(e){return e.stopPropagation(),t.deleteAttach.apply(null,arguments)}}},[a("span",[t._v("Delete")])]),a("a",{staticClass:"edit options",on:{click:function(e){return e.stopPropagation(),t.openEdit.apply(null,arguments)}}},[a("span",[t._v("Edit")])]),"img"===t.attachment.type?a("a",{staticClass:"cover options"},[t._m(1),a("span",{directives:[{name:"show",rawName:"v-show",value:!t.cardToEdit.style||t.cardToEdit.style.img!==t.attachment.href,expression:"\n            !cardToEdit.style || cardToEdit.style.img !== attachment.href\n          "}],on:{click:function(e){return e.stopPropagation(),t.makeCover.apply(null,arguments)}}},[t._v("Make cover")]),a("span",{directives:[{name:"show",rawName:"v-show",value:t.cardToEdit.style&&t.cardToEdit.style.img===t.attachment.href,expression:"\n            cardToEdit.style && cardToEdit.style.img === attachment.href\n          "}],staticClass:"remove-cover",on:{click:function(e){return e.stopPropagation(),t.removeCover.apply(null,arguments)}}},[t._v("Remove cover")])]):t._e()])])])},ns=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"comment options"},[a("span",[t._v("Comment")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"icon-wrapper"},[a("span",{staticClass:"icon-cover icon-sm"})])}],rs={props:{attachment:{type:Object},cardToEdit:{type:Object}},data:function(){return{}},created:function(){},methods:{openEdit:function(){this.$emit("openEdit",this.attachment)},openLink:function(){if(this.attachment.href){var t=this.attachment.href;t.includes("https://")||"img"!==!this.attachment.type||(t="https://"+t),window.open(t)}},deleteAttach:function(){this.$emit("deleteAttach",this.attachment)},makeCover:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=new Tt["a"],e.next=3,a.getColorAsync(t.attachment.href);case 3:s=e.sent,n={img:t.attachment.href,bgColor:s.rgba,isDark:s.isDark},t.$emit("makeCover",n);case 6:case"end":return e.stop()}}),e)})))()},removeCover:function(){this.$emit("removeCover")}},computed:{attachToEdit:function(){return this.attachment},bgImg:function(){if("img"===this.attachment.type)return{backgroundImage:'url("'.concat(this.attachment.href,'")')}},typeToShow:function(){switch(this.attachment.type){case"img":return"";case"link":return this.attachment.href.includes(".com")?"":"LINK";default:return""}},timeSince:function(){return J.timeSince(this.attachment.createdAt)}}},is=rs,os=Object(l["a"])(is,ss,ns,!1,null,null,null),cs=os.exports,ls=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"card-popup cover-popup"},[s("section",{staticClass:"popup-header"},[s("div",{on:{click:function(e){return e.stopPropagation(),t.closeCover.apply(null,arguments)}}},[s("span",{staticClass:"close-popup icon-md icon-close"})]),s("h4",[t._v(t._s(t.showUnsplash?"Photo search":"Cover"))])]),s("section",{directives:[{name:"show",rawName:"v-show",value:!t.showUnsplash,expression:"!showUnsplash"}],staticClass:"cover"},[s("button",{staticClass:"action-btn",on:{click:function(e){return e.stopPropagation(),t.removeCover.apply(null,arguments)}}},[t._v("Remove cover")]),s("label",[t._v("Colors")]),s("div",{staticClass:"colors-container"},t._l(t.colors,(function(e){return s("button",{key:e,staticClass:"color",class:{"selected-btn":t.isSelected(e)},style:{backgroundColor:e},on:{click:function(a){return t.makeCover(e)}}})})),0),s("label",{staticClass:"img-attachs"},[t._v("Attachments")]),s("div",{staticClass:"attachments-container"},t._l(t.imgAttachs,(function(e){return s("button",{key:e.href,class:{"selected-btn":t.isSelected(e.href)},style:t.backgroundImg(e.href),on:{click:function(a){return t.makeCover(e.href)}}})})),0),s("label",{},[t._v("Unsplash")]),s("div",{staticClass:"unsplash-container"},t._l(t.previewImgs,(function(e){return s("button",{key:e.regular,class:{"selected-btn":t.isSelected(e.small)},style:t.backgroundImg(e.small),on:{click:function(a){return t.makeCover(e.small)}}})})),0),s("div",{staticClass:"search-imgs action-btn",on:{click:t.openUnsplash}},[t._v(" Search for photos ")])]),s("section",{directives:[{name:"show",rawName:"v-show",value:t.showUnsplash,expression:"showUnsplash"}],staticClass:"photo-search"},[s("span",{staticClass:"img-back icon-sm icon-back",on:{click:function(e){t.showUnsplash=!1}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchStr,expression:"searchStr"}],attrs:{type:"text",placeholder:"Search Unsplash for photos"},domProps:{value:t.searchStr},on:{input:[function(e){e.target.composing||(t.searchStr=e.target.value)},function(e){return t.search()}]}}),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.showResults,expression:"!showResults"}],staticClass:"suggestions-container"},[s("label",[t._v("Suggested searches")]),s("div",{staticClass:"suggestions"},t._l(t.suggestions,(function(e){return s("button",{key:e,staticClass:"action-btn",on:{click:function(a){return t.search(e)}}},[t._v(t._s(e))])})),0)]),s("section",[s("div",{directives:[{name:"show",rawName:"v-show",value:!t.showResults,expression:"!showResults"}],staticClass:"search-preview-container"},[s("label",[t._v("Top photos")]),s("div",{staticClass:"search-preview"},t._l(t.imgs,(function(e){return s("button",{key:e.regular,class:{"selected-btn":t.isSelected(e.small)},style:t.backgroundImg(e.small),on:{click:function(a){return t.makeCover(e.small,"putInPreview")}}})})),0)]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.showResults,expression:"showResults"}],staticClass:"results"},[s("label",[t._v("Results")]),s("p",{directives:[{name:"show",rawName:"v-show",value:t.noResults,expression:"noResults"}]},[t._v("Sorry, your search didn't return any results. Please try again!")]),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.isLoading&&!t.noResults,expression:"!isLoading && !noResults"},{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],staticClass:"search-results",attrs:{"infinite-scroll-disabled":"busy","infinite-scroll-distance":"100","infinite-scroll-immediate-check":"true"}},t._l(t.searchResults,(function(e){return s("div",{key:e.small,class:{"selected-btn":t.isSelected(e.small)},style:t.backgroundImg(e.small),on:{click:function(a){return t.makeCover(e.small,"putInPreview")}}})})),0)]),s("footer",{directives:[{name:"show",rawName:"v-show",value:t.showResults&&!t.noResults,expression:"showResults && !noResults"}]},[t.isLoading?s("div",{staticClass:"loader"},[s("img",{attrs:{src:a("281f"),alt:""}}),s("span",[t._v("Loading...")])]):t._e(),t._m(0)])])])])},us=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text"},[a("span",[t._v("Photos by")]),a("a",{attrs:{href:"https://unsplash.com/?utm_source=trello&utm_medium=referral&utm_campaign=api-credit",target:"_blank"}},[t._v("Upsplash")])])}],ds=(a("c96a"),{props:{card:{type:Object}},data:function(){var t;return t={showResults:!1,showUnsplash:!1,showSuggestions:!0,isLoading:!1,noResults:!1,busy:!1,imgs:[{small:"https://images.unsplash.com/photo-1477346611705-65d1883cee1e?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=MnwyODA4Mzl8MHwxfHNlYXJjaHwxfHx3YWxscGFwZXJzfGVufDB8fHx8MTYzODc5Mjc1OA&ixlib=rb-1.2.1&q=80&w=400"},{small:"https://images.unsplash.com/photo-1533470192478-9897d90d5461?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=MnwyODA4Mzl8MHwxfHNlYXJjaHwyfHx3YWxscGFwZXJzfGVufDB8fHx8MTYzODc5Mjc1OA&ixlib=rb-1.2.1&q=80&w=400"},{small:"https://images.unsplash.com/photo-1451337516015-6b6e9a44a8a3?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=MnwyODA4Mzl8MHwxfHNlYXJjaHwzfHx3YWxscGFwZXJzfGVufDB8fHx8MTYzODc5Mjc1OA&ixlib=rb-1.2.1&q=80&w=400"},{small:"https://images.unsplash.com/photo-1502759683299-cdcd6974244f?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=MnwyODA4Mzl8MHwxfHNlYXJjaHw0fHx3YWxscGFwZXJzfGVufDB8fHx8MTYzODc5Mjc1OA&ixlib=rb-1.2.1&q=80&w=400"},{small:"https://images.unsplash.com/photo-1493246507139-91e8fad9978e?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=MnwyODA4Mzl8MHwxfHNlYXJjaHw1fHx3YWxscGFwZXJzfGVufDB8fHx8MTYzODc5Mjc1OA&ixlib=rb-1.2.1&q=80&w=400"},{small:"https://images.unsplash.com/photo-1502657877623-f66bf489d236?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=MnwyODA4Mzl8MHwxfHNlYXJjaHw2fHx3YWxscGFwZXJzfGVufDB8fHx8MTYzODc5Mjc1OA&ixlib=rb-1.2.1&q=80&w=400"},{small:"https://images.unsplash.com/photo-1426604966848-d7adac402bff?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=MnwyODA4Mzl8MHwxfHNlYXJjaHw3fHx3YWxscGFwZXJzfGVufDB8fHx8MTYzODc5OTgzMg&ixlib=rb-1.2.1&q=80&w=400"},{small:"https://images.unsplash.com/photo-1502481851512-e9e2529bfbf9?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=MnwyODA4Mzl8MHwxfHNlYXJjaHw4fHx3YWxscGFwZXJzfGVufDB8fHx8MTYzODc5OTgzMg&ixlib=rb-1.2.1&q=80&w=400"},{small:"https://images.unsplash.com/photo-1548983965-416c1920352e?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=MnwyODA4Mzl8MHwxfHNlYXJjaHw5fHx3YWxscGFwZXJzfGVufDB8fHx8MTYzODc5OTgzMg&ixlib=rb-1.2.1&q=80&w=400"},{small:"https://images.unsplash.com/photo-1480497490787-505ec076689f?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=MnwyODA4Mzl8MHwxfHNlYXJjaHwxMHx8d2FsbHBhcGVyc3xlbnwwfHx8fDE2Mzg3OTk4MzI&ixlib=rb-1.2.1&q=80&w=400"},{small:"https://images.unsplash.com/photo-1507608869274-d3177c8bb4c7?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=MnwyODA4Mzl8MHwxfHNlYXJjaHwxMXx8d2FsbHBhcGVyc3xlbnwwfHx8fDE2Mzg3OTk4MzI&ixlib=rb-1.2.1&q=80&w=400"},{small:"https://images.unsplash.com/photo-1479030160180-b1860951d696?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=MnwyODA4Mzl8MHwxfHNlYXJjaHwxMnx8d2FsbHBhcGVyc3xlbnwwfHx8fDE2Mzg3OTk4MzI&ixlib=rb-1.2.1&q=80&w=400"}],searchResults:[],previewImgs:[],searchStr:""},Object(ia["a"])(t,"busy",!1),Object(ia["a"])(t,"page",1),Object(ia["a"])(t,"colors",["#7bc86c","#f5dd29","#ffaf3f","#ef7564","#cd8de5","#5ba4cf","#29cce5","#6deca9","#ff8ed4","#172b4d"]),Object(ia["a"])(t,"suggestions",["Productivity","Perspective","Organization","Colorful","Nature","Business","Minimal","Space","Animals"]),t},created:function(){console.log("card",this.card),this.showUnsplash=!1,this.previewImgs=this.imgs.slice(0,6),this.card.style&&this.putInPrev(this.card.style.img?this.card.style.img:this.card.style.bgColor)},methods:{isSelected:function(t){if(this.card.style)return"#"===t.charAt(0)?!this.card.style.img&&this.card.style.bgColor===t:this.card.style.img===t},loadMore:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.busy=!0,e.prev=1,e.next=4,t.$store.dispatch({type:"requestPhotos",searchKey:t.searchStr,imgNum:30,page:++t.page});case 4:(a=t.searchResults).push.apply(a,Object(At["a"])(t.$store.getters.getBgPhotos)),t.busy=!1,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),console.log("cant load next page",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))()},makeCover:function(t){var e=arguments,a=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){var n,r,i,o;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(n=e.length>1&&void 0!==e[1]&&e[1],r={img:null,bgColor:null,isDark:!1},i=new Tt["a"],"#"!==t.charAt(0)){s.next=8;break}r.isDark="#172b4d"===t,r.bgColor=t,s.next=14;break;case 8:return s.next=10,i.getColorAsync(t);case 10:o=s.sent,r.bgColor=o.rgba,r.isDark=o.isDark,r.img=t;case 14:a.$emit("makeCover",r),n&&a.putInPrev(t);case 16:case"end":return s.stop()}}),s)})))()},backgroundImg:function(t){return{backgroundImage:'url("'.concat(t,'")')}},removeCover:function(){this.$emit("removeCover")},closeCover:function(){this.showSuggestions=!0,this.showResults=!1,this.isLoading=!1,this.showUnsplash=!1,this.$emit("closeCover")},search:function(){var t=arguments,e=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var s,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=t.length>0&&void 0!==t[0]?t[0]:null,e.noResults=!1,e.showSuggestions=!1,e.showResults=!0,e.searchResults=[],e.isLoading=!0,s&&(e.searchStr=s),a.prev=7,a.next=10,e.$store.dispatch({type:"requestPhotos",searchKey:e.searchStr,imgNum:30});case 10:(n=e.searchResults).push.apply(n,Object(At["a"])(e.$store.getters.getBgPhotos)),e.searchResults.length||(e.noResults=!0),e.isLoading=!1,a.next=18;break;case 15:a.prev=15,a.t0=a["catch"](7),console.log("cant get search unsplash imgs",a.t0);case 18:case"end":return a.stop()}}),a,null,[[7,15]])})))()},openUnsplash:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.showUnsplash=!0,t.showResults=!1;case 2:case"end":return e.stop()}}),e)})))()},putInPrev:function(t){if(this.card.style&&this.card.style.img){var e=this.previewImgs.some((function(e){return e.small===t}));e||(e=this.imgAttachs.some((function(e){return e.href===t})),e||(this.previewImgs.unshift({small:t}),this.previewImgs.pop()))}}},computed:{unsplashImgs:function(){var t=this.$store.getters.getBgPhotos;return t},imgAttachs:function(){if(this.card.attachments)return this.card.attachments.filter((function(t){return"img"===t.type}))}}}),ps=ds,hs=Object(l["a"])(ps,ls,us,!1,null,null,null),ms=hs.exports,fs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"checklist"},[a("form",{directives:[{name:"show",rawName:"v-show",value:t.editTitle,expression:"editTitle"}],staticClass:"editor",on:{submit:function(e){return e.preventDefault(),t.updateCL.apply(null,arguments)}}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.CLtoUpdate.title,expression:"CLtoUpdate.title"}],domProps:{value:t.CLtoUpdate.title},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.updateCL.apply(null,arguments))},input:function(e){e.target.composing||t.$set(t.CLtoUpdate,"title",e.target.value)}}}),t._v(" "),a("div",{staticClass:"buttons"},[a("button",{staticClass:"submit-btn"},[t._v("Save")]),a("span",{staticClass:"icon-lg icon-close",on:{click:function(e){t.editTitle=!1}}})])]),a("section",{directives:[{name:"show",rawName:"v-show",value:!t.editTitle,expression:"!editTitle"}],staticClass:"checklist-header"},[a("h3",{on:{click:function(e){t.editTitle=!0}}},[t._v(t._s(t.checklist.title))]),a("span",{staticClass:"checklist-actions"},[t.doneTodos>0?a("button",{staticClass:"action-btn relative-btn",on:{click:function(e){e.stopPropagation(),t.hideDone=!t.hideDone}}},[t._v(" "+t._s(t.hideDone?"Show checked items ("+t.doneTodos+")":"Hide checked items")+" ")]):t._e(),a("button",{staticClass:"action-btn",on:{click:t.deleteCL}},[t._v("Delete")])])]),a("div",{staticClass:"checklist-progress"},[a("span",{staticClass:"checklist-progress-percentage"},[t._v(t._s(t.progressPercentage))]),a("div",{staticClass:"checklist-progress-bar"},[a("div",{staticClass:"checklist-progress-bar-current",class:{finished:"100%"===t.progressPercentage},style:{width:t.progressPercentage}})]),t.CLtoUpdate.todos&&t.CLtoUpdate.todos.length?t._e():a("div",{staticClass:"checklist-progress-bar dummy"}),"100%"!==t.progressPercentage||t.todosToShow.length?t._e():a("span",{staticClass:"checklist-completed-text"},[t._v("Everything in this checklist is complete!")])]),a("ul",[a("draggable",{attrs:{group:"todo-group","ghost-class":"ghost",chosenClass:"",dragClass:"drag","dragoverBubble:":"","false,":""},on:{start:t.updateCL,end:t.updateCL,add:t.updateCL},model:{value:t.CLtoUpdate.todos,callback:function(e){t.$set(t.CLtoUpdate,"todos",e)},expression:"CLtoUpdate.todos"}},t._l(t.todosToShow,(function(e){return a("li",{key:e.id,on:{click:function(a){return a.stopPropagation(),t.editTodo(e)}}},[a("span",{staticClass:"c-b-container"},[a("label",{attrs:{for:""}},[a("input",{staticClass:"cb-cl",attrs:{type:"checkbox"},domProps:{checked:e.isDone}}),a("label",{staticClass:"c-b-btn",on:{click:function(a){return a.stopPropagation(),t.toggleTodo(e.id)}}})]),a("span",{class:{done:e.isDone},on:{click:function(a){return a.stopPropagation(),t.editTodo(e)}}},[t._v(t._s(e.title)+" ")])]),a("button",{staticClass:"td-action",on:{click:function(e){e.stopPropagation(),t.tdMenu=!t.tdMenu}}},[a("span",{staticClass:"icon-sm icon-dots"}),a("section",{directives:[{name:"show",rawName:"v-show",value:t.tdMenu,expression:"tdMenu"}],staticClass:"card-popup td-popup",on:{click:function(t){t.stopPropagation()}}},[a("section",{staticClass:"popup-header"},[a("span",{staticClass:"close-popup icon-md icon-close",on:{click:function(e){t.tdMenu=!1}}}),a("h4",[t._v("Item action")])]),a("span",{staticClass:"action",on:{click:function(a){return t.removeTodo(e.id)}}},[t._v("Delete this todo")])])])])})),0),t.newTodo?a("section",[a("form",{on:{submit:function(e){return e.preventDefault(),t.updateTodo.apply(null,arguments)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.todoToAdd.title,expression:"todoToAdd.title"}],staticClass:"add-item",attrs:{placeholder:"Add an item"},domProps:{value:t.todoToAdd.title},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.updateTodo.apply(null,arguments)},input:function(e){e.target.composing||t.$set(t.todoToAdd,"title",e.target.value)}}}),a("br"),a("div",{staticClass:"buttons"},[a("button",{staticClass:"submit-btn",on:{click:function(e){return e.stopPropagation(),t.updateTodo.apply(null,arguments)}}},[t._v(t._s(t.todoToAdd.id?"Update":"Add"))]),a("span",{staticClass:"icon-lg icon-close",on:{click:t.cancelEdit}})])])]):t._e()],1),a("button",{directives:[{name:"show",rawName:"v-show",value:!t.newTodo,expression:"!newTodo"}],staticClass:"action-btn relative-btn",on:{click:function(e){t.newTodo=!0}}},[t._v("Add an item")])])},vs=[],gs=a("b76a"),bs=a.n(gs),ws={props:{checklist:{type:Object}},data:function(){return{CLtoUpdate:null,todoToAdd:{title:"",isDone:!1},newTodo:!1,editTitle:!1,hideDone:!1,tdMenu:!1}},created:function(){this.CLtoUpdate=JSON.parse(JSON.stringify(this.checklist))},methods:{addTodo:function(){this.newTodo=!0},editTodo:function(t){this.newTodo=!0,this.todoToAdd=JSON.parse(JSON.stringify(t))},toggleTodo:function(t){var e=this.CLtoUpdate.todos.findIndex((function(e){return e.id===t})),a=this.CLtoUpdate.todos[e];a.isDone=!a.isDone,this.CLtoUpdate.todos.splice(e,1,a),this.updateCL()},updateTodo:function(t){if(t.target[0]&&t.target[0].value){var e=JSON.parse(JSON.stringify(this.todoToAdd));if(e.id){var a=this.CLtoUpdate.todos.findIndex((function(t){return t.id===e.id}));this.CLtoUpdate.todos.splice(a,1,e)}else e.id="TD"+J.makeId(),this.CLtoUpdate.todos?this.CLtoUpdate.todos.push(e):this.CLtoUpdate.todos=[e];this.updateCL()}},removeTodo:function(t){var e=this.CLtoUpdate.todos.findIndex((function(e){return e.id===t}));this.CLtoUpdate.todos.splice(e,1),this.updateCL()},updateCL:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$emit("updateCL",JSON.parse(JSON.stringify(t.CLtoUpdate)));case 3:t.todoToAdd={title:"",isDone:!1},t.editTitle=!1,t.CLtoUpdate=JSON.parse(JSON.stringify(t.checklist)),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log("err",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},deleteCL:function(){confirm("Are you sure?")&&(delete this.CLtoUpdate.title,this.$emit("updateCL",this.CLtoUpdate))},cancelEdit:function(){this.newTodo=!1,this.todoToAdd={title:"",isDone:!1}}},computed:{doneTodos:function(){if(this.CLtoUpdate.todos)return this.CLtoUpdate.todos.filter((function(t){return t.isDone})).length},todosToShow:function(){return this.hideDone?this.CLtoUpdate.todos.filter((function(t){return!t.isDone})):this.CLtoUpdate.todos},progressPercentage:function(){if(this.CLtoUpdate.todos)return Math.ceil(100*(this.doneTodos/this.CLtoUpdate.todos.length||0))+"%"}},components:{draggable:bs.a}},Cs=ws,ys=Object(l["a"])(Cs,fs,vs,!1,null,null,null),ks=ys.exports,xs={data:function(){return{lastCardDesc:null,isEditDesc:!1,showDate:!1,showLabels:!1,showMembers:!1,openCheckList:!1,newChecklist:{title:"Checklist"},cardToEdit:null,isUndoDesc:!1,isComment:!1,openAddAttach:!1,openEditAttach:!1,showCoverMenu:!1,showActivities:!1,attachToEdit:{name:""}}},created:function(){this.cardToEdit=this.card},mounted:function(){this.$refs.desc.innerText=this.cardToEdit.description?this.cardToEdit.description:""},computed:{card:function(){return this.$store.getters.card},list:function(){return this.$store.getters.list},boardId:function(){return this.$store.getters.boardId},boardActivities:function(){return this.$store.getters.board.activities},activitiesToShow:function(){var t=this,e=[];return this.boardActivities&&this.boardActivities.length&&(e=this.boardActivities.filter((function(e){return e.card&&e.card.id===t.card.id}))),e},coverStyle:function(){if(this.cardToEdit.style){var t=this.cardToEdit.style.bgColor;return this.cardToEdit.style.img?{backgroundImage:'url("'.concat(this.cardToEdit.style.img,'")'),backgroundColor:t}:{backgroundColor:t,height:"116px",minHeight:"116px"}}},dateToShow:function(){var t=this.cardToEdit.dueDate,e=new Date(t),a=this.formatAMPM(e);return(new Date).getDate()===new Date(t).getDate()?"today"+a:(new Date).getDate()+1===new Date(t).getDate()?"tomorrow"+a:(new Date).getDate()-1===new Date(t).getDate()?"yesterday"+a:(new Date).getYear()===new Date(t).getYear()?this.formatDate(e)+a:this.formatDate(e)+", "+e.getFullYear()+a},getLabels:function(){var t=this.$store.getters.labels,e=this.card.labelIds,a=e.map((function(e){return t.find((function(t){return t.id===e}))}));return a.filter((function(t){return t}))},bgColor:function(){return this.cardToEdit.style.isDark?"#ffffff3d":"#00000014"},textColor:function(){return this.cardToEdit.style.isDark?"#fff":"#172b4d"},checkJoined:function(){var t=this.$store.getters.user;return this.cardToEdit.members.find((function(e){return e._id===t._id}))}},methods:{removeCover:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.cardToEdit.style=null,e.prev=1,a="removed cover from ",console.log("activityText",a),e.next=6,t.updateCard(a);case 6:t.showCoverMenu=!1,e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](1),console.log("cant remove cover",e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))()},makeCover:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return console.log("style",t),e.cardToEdit.style=t,a.prev=2,s="made cover to ",console.log("activityText",s),a.next=7,e.updateCard(s);case 7:a.next=12;break;case 9:a.prev=9,a.t0=a["catch"](2),console.log("cant make cover",a.t0);case 12:case"end":return a.stop()}}),a,null,[[2,9]])})))()},updateAttach:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.cardToEdit.attachments.findIndex((function(e){return e.id===t.attachToEdit.id})),t.cardToEdit.attachments.splice(a,1,t.attachToEdit),e.prev=2,s="updated ".concat(t.attachToEdit.name||t.attachToEdit.file||t.attachToEdit.url," attachment of "),console.log("activityText",s),e.next=7,t.updateCard(s);case 7:t.openEditAttach=!1,t.attachToEdit={name:""},console.log(t.card),e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](2),console.log("cant update attachment",e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})))()},openEdit:function(t){this.attachToEdit=JSON.parse(JSON.stringify(t)),this.openEditAttach=!0},deleteAttach:function(t){var e=this.cardToEdit.attachments.findIndex((function(e){return e.id===t.id}));this.cardToEdit.attachments.splice(e,1);var a="deleted ".concat(t.name||t.file||t.href," attachment from ");console.log("activityText",a),this.updateCard(a)},updateDesc:function(){this.cardToEdit.description=this.$refs.desc.innerText;var t="updated description to ";console.log("activityText",t),this.updateCard(t)},formatAMPM:function(t){var e=t.getHours(),a=t.getMinutes(),s=e>=12?"PM":"AM";e%=12,e=e||12,a=a<10?"0"+a:a;var n=" at "+e+":"+a+" "+s;return n},formatDate:function(t){var e=t.getDate(),a="".concat(t).substring(4,7),s="".concat(a," ").concat(e);return s},closeModal:function(){var t=this.$route.params.boardId;this.$router.push("/b/"+t)},addNewAttach:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.openAddAttach=!1,t.id="A"+J.makeId(),e.cardToEdit.attachments.push(t),a.prev=3,console.log("newAttach",t),s="added ".concat(t.name||t.file||t.href," attachment to "),console.log("activityText",s),a.next=9,e.updateCard(s);case 9:a.next=14;break;case 11:a.prev=11,a.t0=a["catch"](3),console.log("can't update card",a.t0);case 14:case"end":return a.stop()}}),a,null,[[3,11]])})))()},updateDueDate:function(){var t="updated due date to ";this.updateCard(t)},updateCard:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var s,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.isEditDesc=!1,s=e.$store.getters.user,n={id:"act"+J.makeId(),txt:t,createdAt:Date.now(),byMember:{imgUrl:s.imgUrl?s.imgUrl:"",fullname:s.fullname,_id:s._id},card:{id:e.cardToEdit.id,title:e.cardToEdit.title},listTitle:e.list.title},a.prev=3,a.next=6,e.$store.dispatch({type:"updateCard",boardId:e.boardId,list:JSON.parse(JSON.stringify(e.list)),card:JSON.parse(JSON.stringify(e.cardToEdit)),activity:n});case 6:a.next=11;break;case 8:a.prev=8,a.t0=a["catch"](3),console.log("cant update card",a.t0);case 11:case"end":return a.stop()}}),a,null,[[3,8]])})))()},removeCard:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$store.dispatch({type:"removeCard",boardId:t.boardId,list:JSON.parse(JSON.stringify(t.list)),cardId:JSON.parse(JSON.stringify(t.cardToEdit.id))});case 3:t.closeModal(),e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),console.log("cant remove card",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))()},setEditDesc:function(){this.lastCardDesc=this.cardToEdit.description,this.isEditDesc=!0},undoDesc:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.cardToEdit.description=t.lastCardDesc,t.isEditDesc=!1;case 2:case"end":return e.stop()}}),e)})))()},setFocus:function(){this.isEditDesc=!0,this.$refs.desc.focus()},updateDate:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.cardToEdit.dueDate=t,s="updated due date to ",console.log("activityText",s),a.next=5,e.updateCard(s);case 5:case"end":return a.stop()}}),a)})))()},addCheckList:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.target[0].value){a.next=2;break}return a.abrupt("return");case 2:return e.newChecklist.id="CL"+J.makeId(),e.cardToEdit.checklists.push(e.newChecklist),e.openCheckList=!1,a.prev=5,s="added checklist to ",console.log("activityText",s),a.next=10,e.updateCard(s);case 10:e.newChecklist={title:"Checklist"},a.next=16;break;case 13:a.prev=13,a.t0=a["catch"](5),console.log("can't update card",a.t0);case 16:case"end":return a.stop()}}),a,null,[[5,13]])})))()},updateCL:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var s,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=e.cardToEdit.checklists.findIndex((function(e){return e.id===t.id})),t.title?e.cardToEdit.checklists.splice(s,1,t):e.cardToEdit.checklists.splice(s,1),a.prev=2,n="updated checklist of ",console.log("activityText",n),a.next=7,e.updateCard(n);case 7:a.next=12;break;case 9:a.prev=9,a.t0=a["catch"](2),console.log("cant save the todo",a.t0);case 12:case"end":return a.stop()}}),a,null,[[2,9]])})))()},updateLabels:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.cardToEdit.labelIds=t,s="updated labels of ",console.log("activityText",s),a.next=5,e.updateCard(s);case 5:case"end":return a.stop()}}),a)})))()},updateMembers:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.cardToEdit.members=t,s="updated members of ",a.next=4,e.updateCard(s);case 4:case"end":return a.stop()}}),a)})))()},toggleLabels:function(){this.showLabels=!this.showLabels},joinCard:function(){var t=this.$store.getters.user;if(!this.checkJoined){this.cardToEdit.members.push(t);var e="joined as member to ";console.log("activityText",e),this.updateCard(e)}}},components:{checklist:ks,date:Ha,cardLabels:Ma,addAttachment:as,attachment:cs,cover:ms,cardMembers:Ra,Avatar:w.a,activityItem:G}},As=xs,_s=Object(l["a"])(As,Aa,_a,!1,null,null,null),js=_s.exports;s["default"].use(h["a"]);var Ls=[{path:"/",name:"home",component:yt},{path:"/about",name:"about",component:ft},{path:"/home",name:"login",component:ut},{path:"/b/:boardId",name:"board",component:xa,children:[{path:"c/:cardId",name:"cardDetails",component:js}]}],Es=new h["a"]({mode:"history",base:"/",routes:Ls}),Ts=Es,Os=a("2f62"),Ms=a("bc3a"),Ds={query:Ss,getById:Is,remove:Us,save:Rs,getEmptyBoard:Zs,getEmptyList:Vs,getEmptyCard:Xs,saveList:Hs,getListAndCardById:Js,updateCard:Gs,getEmptyLabel:Ws,removeCard:Qs,getBgImgs:Ks,setBackground:en,getActivity:sn};function Ss(t){return Bs.apply(this,arguments)}function Bs(){return Bs=Object(i["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.abrupt("return",Jt.get("board/",e));case 4:t.prev=4,t.t0=t["catch"](0),console.log("error:",t.t0);case 7:case"end":return t.stop()}}),t,null,[[0,4]])}))),Bs.apply(this,arguments)}function Is(t){return Ns.apply(this,arguments)}function Ns(){return Ns=Object(i["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.abrupt("return",Jt.get("board/"+e));case 4:t.prev=4,t.t0=t["catch"](0),console.log("error:",t.t0);case 7:case"end":return t.stop()}}),t,null,[[0,4]])}))),Ns.apply(this,arguments)}function Rs(t){return $s.apply(this,arguments)}function $s(){return $s=Object(i["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,!e._id){t.next=6;break}return ba.emit(va,e),t.abrupt("return",Jt.put("board/"+e._id,e));case 6:return t.abrupt("return",Jt.post("board/",e));case 7:t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log("err",t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])}))),$s.apply(this,arguments)}function Us(t){return Ps.apply(this,arguments)}function Ps(){return Ps=Object(i["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.abrupt("return",Jt.delete("board/"+e));case 4:t.prev=4,t.t0=t["catch"](0),console.log("error:",t.t0);case 7:case"end":return t.stop()}}),t,null,[[0,4]])}))),Ps.apply(this,arguments)}function Js(t,e){return zs.apply(this,arguments)}function zs(){return zs=Object(i["a"])(regeneratorRuntime.mark((function t(e,a){var s,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Is(e);case 3:return s=t.sent,n=s.lists.find((function(t){return t.cards.find((function(t){return t.id===a}))})),r=n.cards.find((function(t){return t.id===a})),t.abrupt("return",{card:r,list:n});case 9:t.prev=9,t.t0=t["catch"](0),console.log("cant get list and card by id",t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])}))),zs.apply(this,arguments)}function Hs(t,e){return Ys.apply(this,arguments)}function Ys(){return Ys=Object(i["a"])(regeneratorRuntime.mark((function t(e,a){var s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.id?(s=a.lists.findIndex((function(t){return t.id===e.id})),a.lists.splice(s,1,e)):(e.id="L"+J.makeId(),a.lists.push(e)),t.prev=2,t.next=5,Rs(a);case 5:return n=t.sent,t.abrupt("return",n);case 9:t.prev=9,t.t0=t["catch"](2),console.log("cant save board",t.t0);case 12:t.next=17;break;case 14:t.prev=14,t.t1=t["catch"](0),console.log("cant save list"+e,t.t1);case 17:case"end":return t.stop()}}),t,null,[[0,14],[2,9]])}))),Ys.apply(this,arguments)}function Gs(t,e,a,s){return Fs.apply(this,arguments)}function Fs(){return Fs=Object(i["a"])(regeneratorRuntime.mark((function t(e,a,s,n){var r,i,o,c,l,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Is(s);case 3:return r=t.sent,n["listTitle"]=a.title,r.activities?r.activities.unshift(n):r.activities=[n],r.activities.length>=400&&r.activities.pop(),i=r.lists.findIndex((function(t){return a.id===t.id})),o=a.cards.findIndex((function(t){return t.id===e.id})),a.cards.splice(o,1,e),r.lists.splice(i,1,a),t.prev=11,t.next=14,Rs(r);case 14:return c=t.sent,l=c.lists[i],u=l.cards[o],t.abrupt("return",{savedBoard:c,savedList:l,savedCard:u});case 20:t.prev=20,t.t0=t["catch"](11),console.log("cant save board",t.t0);case 23:t.next=28;break;case 25:t.prev=25,t.t1=t["catch"](0),console.log("cant save list"+a,t.t1);case 28:case"end":return t.stop()}}),t,null,[[0,25],[11,20]])}))),Fs.apply(this,arguments)}function Qs(t,e,a){return qs.apply(this,arguments)}function qs(){return qs=Object(i["a"])(regeneratorRuntime.mark((function t(e,a,s){var n,r,i,o,c,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Is(s);case 3:return n=t.sent,r=n.lists.findIndex((function(t){return a.id===t.id})),i=a.cards.findIndex((function(t){return t.id===e})),a.cards.splice(i,1),n.lists.splice(r,1,a),t.prev=8,t.next=11,Rs(n);case 11:return o=t.sent,c=o.lists[r],l=c.cards[i],t.abrupt("return",{savedBoard:o,savedList:c,savedCard:l});case 17:t.prev=17,t.t0=t["catch"](8),console.log("cant save board",t.t0);case 20:t.next=25;break;case 22:t.prev=22,t.t1=t["catch"](0),console.log("cant save list"+a,t.t1);case 25:case"end":return t.stop()}}),t,null,[[0,22],[8,17]])}))),qs.apply(this,arguments)}function Zs(t,e){return{title:t,createdAt:"",createdBy:e,style:{imgUrl:"https://images.unsplash.com/photo-1599940824219-e6aa9be5fba2?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=MnwyODA4Mzl8MHwxfHNlYXJjaHwyMXx8d29vZHN8ZW58MHx8fHwxNjM5NDA1OTYw&ixlib=rb-1.2.1&q=80&w=1080",isDark:!0},labels:[{id:J.makeId(),txt:"",colorClass:"label-green"},{id:J.makeId(),txt:"",colorClass:"label-yellow"},{id:J.makeId(),txt:"",colorClass:"label-orange"},{id:J.makeId(),txt:"",colorClass:"label-red"},{id:J.makeId(),txt:"",colorClass:"label-purple"},{id:J.makeId(),txt:"",colorClass:"label-blue"}],members:[e],lists:[],activities:[]}}function Vs(t){return{id:"",title:t,cards:[]}}function Xs(t){return{id:"C"+J.makeId(),title:t,description:"",comments:[],checklists:[],members:[],labelIds:[],createdAt:Date.now(),dueDate:"",style:null,byMember:{id:"u101",username:"Tal",fullname:"Tal Tarablus",imgUrl:"http://res.cloudinary.com/shaishar9/image/upload/v1590850482/j1glw3c9jsoz2py0miol.jpg"},activities:[],attachments:[],isComplete:!1}}function Ws(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".label-green";return{id:"L"+J.makeId(),txt:t,colorClass:e}}function Ks(t,e,a){return tn.apply(this,arguments)}function tn(){return tn=Object(i["a"])(regeneratorRuntime.mark((function t(e,a,s){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,n="https://api.unsplash.com/search/photos/?query=".concat(e||"wallpapers","&per_page=").concat(a||50,"&").concat(s?"page=".concat(s,"&"):"","client_id=9xScnkiVqupizQUOywM06WUClEpMUbRg0wri1zPyIDo"),t.next=4,Ms.get(n);case 4:return r=t.sent,t.abrupt("return",r.data.results.map((function(t){return t.urls})));case 8:t.prev=8,t.t0=t["catch"](0),console.log("cant receive images from unsplash",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))),tn.apply(this,arguments)}function en(t,e){return an.apply(this,arguments)}function an(){return an=Object(i["a"])(regeneratorRuntime.mark((function t(e,a){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Is(e);case 3:return s=t.sent,s.style=a,t.next=7,Rs(s);case 7:return t.abrupt("return",t.sent);case 10:t.prev=10,t.t0=t["catch"](0),console.log("Failed to set background",t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])}))),an.apply(this,arguments)}function sn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=Ft.getLoggedInUser(),s={id:"act"+J.makeId(),txt:t,createdAt:Date.now(),byMember:{imgUrl:a.imgUrl?a.imgUrl:"",fullname:a.fullname,_id:a.id},card:e?{id:e.id,title:e.title}:null};return s}var nn={state:{currBoard:null,boards:null,currCard:null,currList:null,labelsState:!1,bgPhotos:[],notification:{lastUpdate:Date.now(),updatesCount:0}},getters:{board:function(t){return JSON.parse(JSON.stringify(t.currBoard))},boards:function(t){return JSON.parse(JSON.stringify(t.boards))},boardId:function(t){return t.currBoard._id},card:function(t){return JSON.parse(JSON.stringify(t.currCard))},list:function(t){return JSON.parse(JSON.stringify(t.currList))},labels:function(t){return JSON.parse(JSON.stringify(t.currBoard.labels))},labelsState:function(t){return JSON.parse(JSON.stringify(t.labelsState))},getBgPhotos:function(t){return JSON.parse(JSON.stringify(t.bgPhotos))},getLastUpdateTime:function(t){return t.notification.lastUpdate},getNotificationCnt:function(t){return t.notification.updatesCount},getActivities:function(t){return t.currBoard?t.currBoard.activities:[]}},mutations:{setBoard:function(t,e){var a=e.board;t.currBoard=a},setBoards:function(t,e){var a=e.boards;t.boards=a},setCard:function(t,e){var a=e.card;t.currCard=a},setList:function(t,e){var a=e.list;t.currList=a},toggleLabel:function(t,e){var a=e.labelsState;t.labelsState=!a},setPhotos:function(t,e){var a=e.photos;t.bgPhotos=a},addNotificationCnt:function(t){t.notification.updatesCount++,t.notification.lastUpdate=Date.now()},resetNotification:function(t){t.notification.updatesCount=0,t.notification.lastUpdate=Date.now(),console.log("notification reset")}},actions:{pushedBoard:function(t,e){var a=t.commit,s=e.board,n=e.haveUpdate;a({type:"setBoard",board:s}),n&&a({type:"addNotificationCnt"})},loadBoards:function(t){return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,e.prev=1,e.next=4,Ft.getLoggedInUser();case 4:return e.t0=e.sent,s={user:e.t0},e.next=8,Ds.query(s);case 8:n=e.sent,a({type:"setBoards",boards:n}),e.next=15;break;case 12:e.prev=12,e.t1=e["catch"](1),console.log("cant load boards:",e.t1);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})))()},loadBoard:function(t,e){return Object(i["a"])(regeneratorRuntime.mark((function a(){var s,n,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(s=t.commit,n=e.boardId,n){a.next=5;break}return s({type:"setBoard",board:null}),a.abrupt("return");case 5:return a.prev=5,a.next=8,Ds.getById(n);case 8:r=a.sent,s({type:"setBoard",board:r}),a.next=15;break;case 12:a.prev=12,a.t0=a["catch"](5),console.log("cant load boards:",a.t0);case 15:case"end":return a.stop()}}),a,null,[[5,12]])})))()},updateBoard:function(t,e){return Object(i["a"])(regeneratorRuntime.mark((function a(){var s,n,r,i,o,c,l,u;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=t.commit,n=e.board,r=n._id,a.prev=3,a.next=6,Ft.getLoggedInUser();case 6:return a.t0=a.sent,i={user:a.t0},s({type:"setBoard",board:n}),a.next=11,Ds.save(n);case 11:return a.next=13,Ds.query(i);case 13:o=a.sent,s({type:"setBoards",boards:o}),a.next=32;break;case 17:return a.prev=17,a.t1=a["catch"](3),a.next=21,Ds.getById(r);case 21:return c=a.sent,a.next=24,Ft.getLoggedInUser();case 24:return a.t2=a.sent,l={user:a.t2},a.next=28,Ds.query(l);case 28:u=a.sent,s({type:"setBoards",boards:u}),s({type:"setBoard",board:c}),console.log("failed to update board");case 32:case"end":return a.stop()}}),a,null,[[3,17]])})))()},deleteBoard:function(t,e){return Object(i["a"])(regeneratorRuntime.mark((function a(){var s,n,r,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=t.commit,n=e.boardId,a.prev=2,a.next=5,Ds.remove(n);case 5:return a.next=7,Ft.getLoggedInUser();case 7:return a.t0=a.sent,r={user:a.t0},a.next=11,Ds.query(r);case 11:i=a.sent,s({type:"setBoards",boards:i}),s({type:"setBoard",board:null}),a.next=19;break;case 16:a.prev=16,a.t1=a["catch"](2),console.log("cant delete Board",a.t1);case 19:case"end":return a.stop()}}),a,null,[[2,16]])})))()},setListAndCard:function(t,e){return Object(i["a"])(regeneratorRuntime.mark((function a(){var s,n,r,i,o,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(s=t.commit,n=e.boardId,r=e.cardId,a.prev=2,!r){a.next=13;break}return a.next=6,Ds.getListAndCardById(n,r);case 6:i=a.sent,o=i.card,c=i.list,s({type:"setCard",card:o}),s({type:"setList",list:c}),a.next=15;break;case 13:s({type:"setCard",card:null}),s({type:"setList",list:null});case 15:a.next=20;break;case 17:a.prev=17,a.t0=a["catch"](2),console.log("cant load card:",a.t0);case 20:case"end":return a.stop()}}),a,null,[[2,17]])})))()},createBoard:function(t,e){return Object(i["a"])(regeneratorRuntime.mark((function a(){var s,n,r,i,o,c,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=t.commit,n=e.title,a.prev=2,a.next=5,Ft.getLoggedInUser();case 5:return r=a.sent,i=Ds.getEmptyBoard(n,r),a.next=9,Ds.save(i);case 9:return o=a.sent,a.next=12,Ft.getLoggedInUser();case 12:return a.t0=a.sent,c={user:a.t0},a.next=16,Ds.query(c);case 16:return l=a.sent,s({type:"setBoard",board:o}),s({type:"setBoards",boards:l}),a.abrupt("return",o);case 22:a.prev=22,a.t1=a["catch"](2),console.log("can't create board",a.t1);case 25:case"end":return a.stop()}}),a,null,[[2,22]])})))()},addList:function(t,e){return Object(i["a"])(regeneratorRuntime.mark((function a(){var s,n,r,i,o,c,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=t.commit,n=e.board,r=e.title,console.log("board",n),i=Ds.getEmptyList(r),o="created list ".concat(i.title),c=Ds.getActivity(o),n.activities.push(c),a.prev=7,a.next=10,Ds.saveList(i,n,c);case 10:return l=a.sent,s({type:"setBoard",board:l}),a.abrupt("return",l);case 15:a.prev=15,a.t0=a["catch"](7),console.log("cant addList",a.t0);case 18:case"end":return a.stop()}}),a,null,[[7,15]])})))()},updateList:function(t,e){return Object(i["a"])(regeneratorRuntime.mark((function a(){var s,n,r,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=t.commit,n=e.board,r=e.list,a.prev=2,a.next=5,Ds.saveList(r,n);case 5:return i=a.sent,s({type:"setBoard",board:i}),a.abrupt("return",i);case 10:a.prev=10,a.t0=a["catch"](2),console.log("cant update list",a.t0);case 13:case"end":return a.stop()}}),a,null,[[2,10]])})))()},deleteList:function(t,e){return Object(i["a"])(regeneratorRuntime.mark((function a(){var s,n,r,i,o,c,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=t.commit,n=e.board,r=e.list,i="deleted list ".concat(r.title),o=Ds.getActivity(i),n.activities.push(o),c=n.lists.findIndex((function(t){return t.id===r.id})),n.lists.splice(c,1),a.prev=7,a.next=10,Ds.save(n);case 10:return l=a.sent,s({type:"setBoard",board:l}),a.abrupt("return",l);case 15:a.prev=15,a.t0=a["catch"](7),console.log("cant delete list",a.t0);case 18:case"end":return a.stop()}}),a,null,[[7,15]])})))()},addCard:function(t,e){return Object(i["a"])(regeneratorRuntime.mark((function a(){var s,n,r,i,o,c,l,u;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=t.commit,n=e.board,r=e.list,i=e.title,o=Ds.getEmptyCard(i),r.cards.push(o),c="created ",l=Ds.getActivity(c,o),n.activities.push(l),a.prev=7,a.next=10,Ds.saveList(r,n);case 10:return u=a.sent,s({type:"setBoard",board:u}),a.abrupt("return",u);case 15:a.prev=15,a.t0=a["catch"](7),console.log("cant add card",a.t0);case 18:case"end":return a.stop()}}),a,null,[[7,15]])})))()},updateCard:function(t,e){return Object(i["a"])(regeneratorRuntime.mark((function a(){var s,n,r,i,o,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=t.commit,n=e.boardId,r=e.list,i=e.card,o=e.activity,a.prev=2,a.next=5,Ds.updateCard(i,r,n,o);case 5:c=a.sent,s({type:"setBoard",board:c.savedBoard}),s({type:"setList",list:c.savedList}),s({type:"setCard",card:c.savedCard}),a.next=14;break;case 11:a.prev=11,a.t0=a["catch"](2),console.log("cant add card",a.t0);case 14:case"end":return a.stop()}}),a,null,[[2,11]])})))()},removeCard:function(t,e){return Object(i["a"])(regeneratorRuntime.mark((function a(){var s,n,r,i,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=t.commit,n=e.boardId,r=e.list,i=e.cardId,a.prev=2,a.next=5,Ds.removeCard(i,r,n);case 5:o=a.sent,s({type:"setBoard",board:o.savedBoard}),s({type:"setList",list:o.savedList}),s({type:"setCard",card:o.savedCard}),a.next=14;break;case 11:a.prev=11,a.t0=a["catch"](2),console.log("cant remove card",a.t0);case 14:case"end":return a.stop()}}),a,null,[[2,11]])})))()},createLabel:function(t,e){return Object(i["a"])(regeneratorRuntime.mark((function a(){var s,n,r,i,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=t.commit,n=e.board,r=e.label,a.prev=2,i=Ds.getEmptyLabel(),i.txt=r.txt,i.colorClass=r.colorClass,n.labels.push(i),a.next=9,Ds.save(n);case 9:o=a.sent,s({type:"setBoard",board:o}),a.next=16;break;case 13:a.prev=13,a.t0=a["catch"](2),console.log("failed to create new label");case 16:case"end":return a.stop()}}),a,null,[[2,13]])})))()},requestPhotos:function(t,e){return Object(i["a"])(regeneratorRuntime.mark((function a(){var s,n,r,i,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=t.commit,n=e.searchKey,r=e.imgNum,i=e.page,a.prev=2,a.next=5,Ds.getBgImgs(n,r,i);case 5:o=a.sent,s({type:"setPhotos",photos:o}),a.next=12;break;case 9:a.prev=9,a.t0=a["catch"](2),console.log("failed to get photos",a.t0);case 12:case"end":return a.stop()}}),a,null,[[2,9]])})))()},setBackground:function(t,e){return Object(i["a"])(regeneratorRuntime.mark((function a(){var s,n,r,i,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=t.commit,n=t.dispatch,r=e.boardId,i=e.style,a.prev=2,a.next=5,Ds.setBackground(r,i);case 5:o=a.sent,s({type:"setBoard",board:o}),n({type:"loadBoards"}),a.next=13;break;case 10:a.prev=10,a.t0=a["catch"](2),console.log("failed to set background",a.t0);case 13:case"end":return a.stop()}}),a,null,[[2,10]])})))()}}},rn={state:{user:null,users:null},getters:{user:function(t){return JSON.parse(JSON.stringify(t.user))},users:function(t){return JSON.parse(JSON.stringify(t.users))}},mutations:{setUser:function(t,e){var a=e.user;t.user=a},setUsers:function(t,e){var a=e.users;t.users=a}},actions:{loadUsers:function(t){return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,e.prev=1,e.next=4,Ft.query();case 4:s=e.sent,a({type:"setUsers",users:s}),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),console.log("err");case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))()},setUser:function(t){var e=t.commit,a=Ft.getLoggedInUser();e({type:"setUser",user:a}),console.log("user from loggeninUser",a)},login:function(t,e){return Object(i["a"])(regeneratorRuntime.mark((function a(){var s,n,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=t.dispatch,n=e.username,r=e.password,a.prev=2,a.next=5,Ft.login(n,r);case 5:s({type:"setUser"}),a.next=12;break;case 8:throw a.prev=8,a.t0=a["catch"](2),console.log("cant login user",a.t0),a.t0;case 12:case"end":return a.stop()}}),a,null,[[2,8]])})))()},externalLogin:function(t,e){return Object(i["a"])(regeneratorRuntime.mark((function a(){var s,n,r,i,o,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=t.dispatch,n=e.username,r=e.fullname,i=e.imgUrl,o=e.googleUser,c=e.fbUser,a.prev=2,a.next=5,Ft.externalLogin(n,r,i,o,c);case 5:s({type:"setUser"}),a.next=12;break;case 8:throw a.prev=8,a.t0=a["catch"](2),console.log("cant login user",a.t0),a.t0;case 12:case"end":return a.stop()}}),a,null,[[2,8]])})))()},logout:function(t){return Object(i["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.dispatch,e.prev=1,e.next=4,Ft.logout();case 4:a({type:"setUser",user:null}),e.next=11;break;case 7:throw e.prev=7,e.t0=e["catch"](1),console.log("cant logout user",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,7]])})))()},signup:function(t,e){return Object(i["a"])(regeneratorRuntime.mark((function a(){var s,n,r,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=t.dispatch,n=e.username,r=e.password,i=e.fullname,a.prev=2,console.log("username:",n," password:",r,"fullname:",i),a.next=6,Ft.signup(n,r,i);case 6:s({type:"setUser"}),a.next=13;break;case 9:throw a.prev=9,a.t0=a["catch"](2),console.log("cant sign up user",a.t0),a.t0;case 13:case"end":return a.stop()}}),a,null,[[2,9]])})))()}}},on={state:{showDashboard:!1,statistics:{refresh:5,updated:12,removed:32,created:10,total:59}},getters:{getStatistics:function(t){return JSON.parse(JSON.stringify(t.statistics))},showDashboard:function(t){return t.showDashboard}},mutations:{updateStat:function(t){var e=["refresh","updated","removed","created"],a=e[J.getRandomInt(0,e.length-1)],s=J.getRandomInt(-20,20);t.statistics[a]+=s,t.statistics.total+=s,t.statistics.total<=0&&(t.statistics.total=0),t.statistics[a]<=0&&(t.statistics[a]=0)},toggleDashboard:function(t){t.showDashboard=!t.showDashboard}},actions:{updateStat:function(t){var e=t.commit;e({type:"updateStat"})}}};s["default"].use(Os["a"]);var cn=new Os["a"].Store({strict:!0,state:{},mutations:{},actions:{},modules:{boardStore:nn,userStore:rn,statisticsStore:on}}),ln=(a("fce9"),a("15f5"),a("7051"),a("5c96")),un=a.n(ln),dn=a("b2d6"),pn=a.n(dn),hn=a("a632"),mn=a.n(hn),fn=a("b41b");s["default"].component("date-picker",mn.a);var vn=a("487a");s["default"].use(un.a,{locale:pn.a}),s["default"].use(vn),s["default"].use(E["LoaderPlugin"],{client_id:"961995621272-60aj5sk5o9vlm2a68pqoqbtd32uo5ka3.apps.googleusercontent.com"}),s["default"].config.productionTip=!1,new s["default"]({GoogleSignInButton:fn["a"],router:Ts,store:cn,render:function(t){return t(d)}}).$mount("#app")},d93e:function(t,e,a){},f159:function(t,e,a){"use strict";a("d93e")},fce9:function(t,e,a){}});
//# sourceMappingURL=app.e497d6e0.js.map